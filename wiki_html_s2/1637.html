<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="ja">
<head>
<meta charset="utf-8"/>
<title>Smalltalk - Wikipedia</title><style type="text/css">h1.firstHeading{line-height:1.2} .infobox {     border: 1px solid #aaa; background: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: .2em; float: right; clear: right; } .infobox tr { vertical-align: top; } .infobox caption { margin-left: inherit; } .infobox.bordered { border-collapse: collapse; } .infobox.bordered td, .infobox.bordered th { border: 1px solid #aaa; } .infobox.sisterproject { width: 20em; font-size: 70%; } div[role="navigation"]{display:none;} a[class="mw-jump-link"]{display:none;} #content{ font-size: 80%; } </style>
<script>function init(){for(var a,e,b=[],f=location.search.split("?")[1].split("&"),h=f.length,c=0;c<h;c++)a=f[c].split("="),e=decodeURIComponent(a[0]),b[e]=decodeURIComponent(a[1]);a=[];if("false"===b.infobox){b=document.querySelectorAll("[class^='infobox']");0<b.length&&(a=a.concat(b));b=document.querySelectorAll("[id^='infobox']");0<b.length&&(a=a.concat(b));b=document.querySelectorAll("table");0<b.length&&(a=a.concat(b));for(var d in a)for(var g in a[d])console.log(a[d][g]),a[d][g].style.display="none"}};</script></head>
<body onLoad="init()" class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Smalltalk rootpage-Smalltalk skin-vector action-view skin-vector-legacy"><div class="noprint" id="mw-page-base"></div>
<div class="noprint" id="mw-head-base"></div>
<div class="mw-body" id="content" role="main">
<a id="top"></a>
<div id="siteNotice"></div>
<div class="mw-indicators">
</div>
<h1 class="firstHeading" id="firstHeading">Smalltalk</h1>
<div class="vector-body" id="bodyContent">

<div id="contentSub"></div>
<div id="contentSub2"></div>
<div id="jump-to-nav"></div>


<div class="mw-body-content mw-content-ltr" dir="ltr" id="mw-content-text" lang="ja"><div class="mw-parser-output"><style data-mw-deduplicate="TemplateStyles:r2633220">.mw-parser-output .hatnote{margin:0.5em 0;padding:3px 2em;background-color:transparent;border-bottom:1px solid #a2a9b1;font-size:90%}</style>
<table class="infobox vevent" style="width:22em;"><caption class="summary" itemprop="name" style="">Smalltalk</caption><tbody><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">登場時期</th><td class="" itemprop="" style="">
<div class="plainlist" style="">
<ul><li><span style="white-space:nowrap;">1972年</span><span class="noprint"> <span style="white-space:nowrap;"><wbr/>(50年前)</span></span><span style="display:none"> (<span class="bday dtstart published updated">1972</span>)</span> (開発開始)</li>
<li><span style="white-space:nowrap;">1980年</span><span class="noprint"> <span style="white-space:nowrap;"><wbr/>(42年前)</span></span><span style="display:none"> (<span class="bday dtstart published updated">1980</span>)</span> (公開)</li></ul>
</div></td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">設計者</th><td class="organiser" itemprop="" style="">
<a href="." id="link_i_1" title="アラン・ケイ">アラン・ケイ</a>, <span title="リンク先の項目はまだありません。新規の執筆や他言語版からの翻訳が望まれます。"><a href="." id="link_i_2" title="ダン・インガルス (存在しないページ)">ダン・インガルス</a><span class="noprint" style="font-size: 0.77em; font-weight: normal;">（<a class="new" href="/w/index.php?title=En:Dan_Ingalls&amp;action=edit&amp;redlink=1" title="En:Dan Ingalls (存在しないページ)">英語版</a>）</span></span>, <a href="." id="link_i_3" title="エイデル・ゴールドバーグ">エイデル・ゴールドバーグ</a></td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">開発者</th><td class="" itemprop="" style="">
<a href="." id="link_i_1" title="アラン・ケイ">アラン・ケイ</a>, <span title="リンク先の項目はまだありません。新規の執筆や他言語版からの翻訳が望まれます。"><a href="." id="link_i_2" title="ダン・インガルス (存在しないページ)">ダン・インガルス</a><span class="noprint" style="font-size: 0.77em; font-weight: normal;">（<a class="new" href="/w/index.php?title=En:Dan_Ingalls&amp;action=edit&amp;redlink=1" title="En:Dan Ingalls (存在しないページ)">英語版</a>）</span></span>, <a href="." id="link_i_3" title="エイデル・ゴールドバーグ">エイデル・ゴールドバーグ</a>, Ted Kaehler, <a class="new" href="/w/index.php?title=En_:Diana_Merry&amp;action=edit&amp;redlink=1" title="En :Diana Merry (存在しないページ)">Diana Merry</a>, Scott Wallace, <a class="new" href="/w/index.php?title=En_:L._Peter_Deutsch&amp;action=edit&amp;redlink=1" title="En :L. Peter Deutsch (存在しないページ)">Peter Deutsch</a>, <a href="." id="link_i_4" title="ラリー・テスラー">ラリー・テスラー</a>, <a href="." id="link_i_5" title="パロアルト研究所">パロアルト研究所</a></td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">最新リリース</th><td class="" itemprop="" style="">
<span lang="en">VisualWorks</span>  8.3.1 英語版/ <span style="white-space:nowrap;">2018年5月</span><span class="noprint"> <span style="white-space:nowrap;"><wbr/>(3年前)</span></span><span style="display:none"> (<span class="bday dtstart published updated">2018-05</span>)</span></td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">型付け</th><td class="" itemprop="" style="">
強い<a href="." id="link_i_6" title="動的型付け">動的型付け</a><sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[注釈 1]</a></sup>, <a href="." id="link_i_7" title="ダック・タイピング">ダック・タイピング</a>（オプショナルな静的型検査が可能な処理系も存在する）</td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">主な処理系</th><td class="" itemprop="" style="">
<span lang="en"><a href="." id="link_i_8" title="VisualWorks (存在しないページ)">VisualWorks</a></span>、<span lang="en"><a href="." id="link_i_9" title="Squeak">Squeak</a></span>、<span lang="en"><a href="." id="link_i_10" title="Pharo">Pharo</a></span></td></tr><tr class="" itemprop="" style=""><th scope="row" style="text-align:left; white-space:nowrap;">影響を与えた言語</th><td class="" itemprop="" style="">
<span lang="en"><a href="." id="link_i_11" title="Actor (存在しないページ)">Actor</a></span>、<span lang="en"><a href="." id="link_i_12" title="Flavors (存在しないページ)">Flavors</a></span>、<span lang="en"><a href="." id="link_i_13" title="Objective-C">Objective-C</a></span>、<span lang="en"><a href="." id="link_i_14" title="Self">Self</a></span>、<span lang="en"><a href="." id="link_i_15" title="Ruby (代表的なトピック)">Ruby</a></span>、<span lang="en"><a href="." id="link_i_16" title="Scala">Scala</a></span></td></tr><tr class="noprint"><td colspan="2" style="text-align:right; font-size:85%;">テンプレートを表示</td></tr></tbody></table>
<div class="noprint" style="clear:right; float:right; position:relative;">
<div class="navbox" style="background:#f0fff0; border:1px solid #4682b4; padding: 4px; font-size: 12px; line-height: 14px; width: 280px; height: 52px">
<div style="float:left; margin: 0px; margin-right:8px; border:1px solid #4682b4;">ファイル:Computer n screen.svg</div><b><a href="." id="link_a_17" title="オブジェクト指向プログラミング">オブジェクト指向言語</a></b>に分類される<br/><big style="font-size: 18px; line-height: 20px;"><b><a href="." id="link_a_18" title="プログラミング言語">プログラミング言語</a></b></big><div style="text-align: right; font-size: 12px; line-height: 14px; margin:0; padding:0;">&gt;&gt;<a href="." id="link_a_19" title="プログラミング言語一覧">他のプログラミング言語</a></div></div>
<p style="text-align:right; font-size:xx-small; margin:0; bottom-margin: 4px;"><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E" title="カテゴリ:プログラミング言語">■</a>カテゴリ / ■テンプレート</p></div>
<p><span lang="en"><b>Smalltalk</b></span>（スモールトーク）は、<span lang="en"><a href="." id="link_a_20" title="Simula">Simula</a></span> の<a href="." id="link_a_21" title="オブジェクト">オブジェクト</a>（および<a href="." id="link_a_22" title="クラス (コンピュータ)">クラス</a>）、<span lang="en"><a href="." id="link_a_23" title="LISP">LISP</a></span>の徹底した<a href="." id="link_a_24" title="動的プログラミング言語">動的性</a>、<span lang="en"><a href="." id="link_a_25" title="LOGO">LOGO</a></span> のタートル操作や描画機能に、<a href="." id="link_a_1" title="アラン・ケイ">アラン・ケイ</a>の「メッセージング」というアイデア<sup class="reference" id="cite_ref-tools-for-thought_2-0"><a href="#cite_note-tools-for-thought-2">[1]</a></sup>を組み合わせて作られた<a href="." id="link_a_26" title="クラスベース">クラスベース</a>で手続き型の純粋<a href="." id="link_a_27" title="オブジェクト指向プログラミング言語">オブジェクト指向プログラミング言語</a>、および、それによって記述構築された<a href="." id="link_a_28" title="統合化プログラミング環境">統合化プログラミング環境</a>の呼称。
</p><p><span lang="en">Smalltalk</span> で一語であり、「<span lang="en">Small Talk</span>」「<span lang="en">SmallTalk</span>」などは誤りである。
</p><p>大規模な開発実績としてはCargill Lynx Project<sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[2]</a></sup>があり、国産製品の開発実績としては<a href="." id="link_a_29" title="MCFrame">MCFrame</a>がある。
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="ja"><h2 id="mw-toc-heading">目次</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#概要"><span class="tocnumber">1</span> <span class="toctext">概要</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#開発の経緯"><span class="tocnumber">1.1</span> <span class="toctext">開発の経緯</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Smalltalkの変遷"><span class="tocnumber">1.2</span> <span class="toctext">Smalltalkの変遷</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Smalltalk_とオブジェクト指向"><span class="tocnumber">1.3</span> <span class="toctext"><span>Smalltalk</span> とオブジェクト指向</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Smalltalk_の独自性"><span class="tocnumber">1.4</span> <span class="toctext"><span>Smalltalk</span> の独自性</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#環境および処理系としてのSmalltalk"><span class="tocnumber">2</span> <span class="toctext">環境および処理系としてのSmalltalk</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Smalltalk_環境から見たSmalltalk_言語"><span class="tocnumber">2.1</span> <span class="toctext"><span>Smalltalk</span> 環境から見た<span>Smalltalk</span> 言語</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#仮想機械方式"><span class="tocnumber">2.2</span> <span class="toctext">仮想機械方式</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#仮想機械による実行"><span class="tocnumber">2.2.1</span> <span class="toctext">仮想機械による実行</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#イメージファイル"><span class="tocnumber">2.2.2</span> <span class="toctext">イメージファイル</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#仮想機械とブートストラップ"><span class="tocnumber">2.2.3</span> <span class="toctext">仮想機械とブートストラップ</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#実行時書き換え"><span class="tocnumber">2.3</span> <span class="toctext">実行時書き換え</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#環境の種類"><span class="tocnumber">2.4</span> <span class="toctext">環境の種類</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#GUIツール"><span class="tocnumber">2.5</span> <span class="toctext">GUIツール</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#準標準的なGUIツール"><span class="tocnumber">2.5.1</span> <span class="toctext">準標準的なGUIツール</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Class_Browser(System_Browser)"><span class="tocnumber">2.5.2</span> <span class="toctext">Class Browser(System Browser)</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Transcript"><span class="tocnumber">2.5.3</span> <span class="toctext">Transcript</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Workspace"><span class="tocnumber">2.5.4</span> <span class="toctext">Workspace</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Debugger/Notifier"><span class="tocnumber">2.5.5</span> <span class="toctext">Debugger/Notifier</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Inspector"><span class="tocnumber">2.5.6</span> <span class="toctext">Inspector</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#言語としてのSmalltalk"><span class="tocnumber">3</span> <span class="toctext">言語としてのSmalltalk</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#言語としての設計思想"><span class="tocnumber">3.1</span> <span class="toctext">言語としての設計思想</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#言語仕様の種類"><span class="tocnumber">3.2</span> <span class="toctext">言語仕様の種類</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#文法"><span class="tocnumber">3.3</span> <span class="toctext">文法</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#コメント"><span class="tocnumber">3.3.1</span> <span class="toctext">コメント</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#定数表現"><span class="tocnumber">3.3.2</span> <span class="toctext">定数表現</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#変数"><span class="tocnumber">3.3.3</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#擬変数"><span class="tocnumber">3.3.4</span> <span class="toctext">擬変数</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#メッセージ式"><span class="tocnumber">3.3.5</span> <span class="toctext">メッセージ式</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#制御構文"><span class="tocnumber">3.3.6</span> <span class="toctext">制御構文</span></a>
<ul>
<li class="toclevel-4 tocsection-31"><a href="#ブロック"><span class="tocnumber">3.3.6.1</span> <span class="toctext">ブロック</span></a></li>
<li class="toclevel-4 tocsection-32"><a href="#条件分岐"><span class="tocnumber">3.3.6.2</span> <span class="toctext">条件分岐</span></a></li>
<li class="toclevel-4 tocsection-33"><a href="#反復"><span class="tocnumber">3.3.6.3</span> <span class="toctext">反復</span></a></li>
<li class="toclevel-4 tocsection-34"><a href="#反復からの脱出"><span class="tocnumber">3.3.6.4</span> <span class="toctext">反復からの脱出</span></a></li>
<li class="toclevel-4 tocsection-35"><a href="#例外処理機構"><span class="tocnumber">3.3.6.5</span> <span class="toctext">例外処理機構</span></a></li>
<li class="toclevel-4 tocsection-36"><a href="#並列処理"><span class="tocnumber">3.3.6.6</span> <span class="toctext">並列処理</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-37"><a href="#クラスオブジェクトの登録"><span class="tocnumber">3.3.7</span> <span class="toctext">クラスオブジェクトの登録</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="#メソッドの登録"><span class="tocnumber">3.3.8</span> <span class="toctext">メソッドの登録</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="#クラスオブジェクト"><span class="tocnumber">3.3.9</span> <span class="toctext">クラスオブジェクト</span></a></li>
<li class="toclevel-3 tocsection-40"><a href="#復帰文とブロック"><span class="tocnumber">3.3.10</span> <span class="toctext">復帰文とブロック</span></a></li>
<li class="toclevel-3 tocsection-41"><a href="#メソッドに対する注釈"><span class="tocnumber">3.3.11</span> <span class="toctext">メソッドに対する注釈</span></a></li>
<li class="toclevel-3 tocsection-42"><a href="#大域変数"><span class="tocnumber">3.3.12</span> <span class="toctext">大域変数</span></a></li>
<li class="toclevel-3 tocsection-43"><a href="#プール辞書"><span class="tocnumber">3.3.13</span> <span class="toctext">プール辞書</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-44"><a href="#準標準的な文法"><span class="tocnumber">3.4</span> <span class="toctext">準標準的な文法</span></a>
<ul>
<li class="toclevel-3 tocsection-45"><a href="#非定数要素配列"><span class="tocnumber">3.4.1</span> <span class="toctext">非定数要素配列</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#継続"><span class="tocnumber">3.4.2</span> <span class="toctext">継続</span></a></li>
<li class="toclevel-3 tocsection-47"><a href="#生成器"><span class="tocnumber">3.4.3</span> <span class="toctext">生成器</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-48"><a href="#ファイル用構文"><span class="tocnumber">3.5</span> <span class="toctext">ファイル用構文</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#委譲と継承"><span class="tocnumber">3.6</span> <span class="toctext">委譲と継承</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#メッセージ"><span class="tocnumber">3.7</span> <span class="toctext">メッセージ</span></a>
<ul>
<li class="toclevel-3 tocsection-51"><a href="#型付け"><span class="tocnumber">3.7.1</span> <span class="toctext">型付け</span></a></li>
<li class="toclevel-3 tocsection-52"><a href="#メッセージと制御構文"><span class="tocnumber">3.7.2</span> <span class="toctext">メッセージと制御構文</span></a></li>
<li class="toclevel-3 tocsection-53"><a href="#特殊セレクター"><span class="tocnumber">3.7.3</span> <span class="toctext">特殊セレクター</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-54"><a href="#クラスオブジェクトとMetaclass"><span class="tocnumber">3.8</span> <span class="toctext">クラスオブジェクトとMetaclass</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#定数とオブジェクト"><span class="tocnumber">3.9</span> <span class="toctext">定数とオブジェクト</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#可変長オブジェクト"><span class="tocnumber">3.10</span> <span class="toctext">可変長オブジェクト</span></a></li>
<li class="toclevel-2 tocsection-57"><a href="#記憶領域の管理"><span class="tocnumber">3.11</span> <span class="toctext">記憶領域の管理</span></a>
<ul>
<li class="toclevel-3 tocsection-58"><a href="#ハンドルテーブルの書き換え[30]"><span class="tocnumber">3.11.1</span> <span class="toctext">ハンドルテーブルの書き換え<sup>[30]</sup></span></a></li>
<li class="toclevel-3 tocsection-59"><a href="#弱参照"><span class="tocnumber">3.11.2</span> <span class="toctext">弱参照</span></a></li>
<li class="toclevel-3 tocsection-60"><a href="#カゲロウ(蜉蝣)"><span class="tocnumber">3.11.3</span> <span class="toctext">カゲロウ(蜉蝣)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-61"><a href="#Smalltalk_の慣習"><span class="tocnumber">3.12</span> <span class="toctext"><span>Smalltalk</span> の慣習</span></a>
<ul>
<li class="toclevel-3 tocsection-62"><a href="#大文字からはじめる識別子と小文字からはじめる識別子"><span class="tocnumber">3.12.1</span> <span class="toctext">大文字からはじめる識別子と小文字からはじめる識別子</span></a>
<ul>
<li class="toclevel-4 tocsection-63"><a href="#変数名"><span class="tocnumber">3.12.1.1</span> <span class="toctext">変数名</span></a></li>
<li class="toclevel-4 tocsection-64"><a href="#セレクター"><span class="tocnumber">3.12.1.2</span> <span class="toctext">セレクター</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-65"><a href="#オブジェクトの生成と初期化"><span class="tocnumber">3.12.2</span> <span class="toctext">オブジェクトの生成と初期化</span></a></li>
<li class="toclevel-3 tocsection-66"><a href="#アクセッサー"><span class="tocnumber">3.12.3</span> <span class="toctext">アクセッサー</span></a></li>
<li class="toclevel-3 tocsection-67"><a href="#定数"><span class="tocnumber">3.12.4</span> <span class="toctext">定数</span></a></li>
<li class="toclevel-3 tocsection-68"><a href="#附帯情報"><span class="tocnumber">3.12.5</span> <span class="toctext">附帯情報</span></a></li>
<li class="toclevel-3 tocsection-69"><a href="#単純な例外処理"><span class="tocnumber">3.12.6</span> <span class="toctext">単純な例外処理</span></a></li>
<li class="toclevel-3 tocsection-70"><a href="#ブロックによる資源の開放"><span class="tocnumber">3.12.7</span> <span class="toctext">ブロックによる資源の開放</span></a></li>
<li class="toclevel-3 tocsection-71"><a href="#要素の列挙"><span class="tocnumber">3.12.8</span> <span class="toctext">要素の列挙</span></a></li>
<li class="toclevel-3 tocsection-72"><a href="#オブジェクトの変換"><span class="tocnumber">3.12.9</span> <span class="toctext">オブジェクトの変換</span></a></li>
<li class="toclevel-3 tocsection-73"><a href="#セレクターとオブジェクトを指定したイベント処理"><span class="tocnumber">3.12.10</span> <span class="toctext">セレクターとオブジェクトを指定したイベント処理</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-74"><a href="#MVCとMVCから派生した設計方式"><span class="tocnumber">3.13</span> <span class="toctext">MVCとMVCから派生した設計方式</span></a>
<ul>
<li class="toclevel-3 tocsection-75"><a href="#モデル支援機構"><span class="tocnumber">3.13.1</span> <span class="toctext">モデル支援機構</span></a></li>
<li class="toclevel-3 tocsection-76"><a href="#Morphic方式"><span class="tocnumber">3.13.2</span> <span class="toctext">Morphic方式</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-77"><a href="#脚注"><span class="tocnumber">4</span> <span class="toctext">脚注</span></a>
<ul>
<li class="toclevel-2 tocsection-78"><a href="#注釈"><span class="tocnumber">4.1</span> <span class="toctext">注釈</span></a></li>
<li class="toclevel-2 tocsection-79"><a href="#出典"><span class="tocnumber">4.2</span> <span class="toctext">出典</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-80"><a href="#関連項目"><span class="tocnumber">5</span> <span class="toctext">関連項目</span></a></li>
<li class="toclevel-1 tocsection-81"><a href="#外部リンク"><span class="tocnumber">6</span> <span class="toctext">外部リンク</span></a></li>
</ul>
</div>
<h2><span id=".E6.A6.82.E8.A6.81"></span><span class="mw-headline" id="概要">概要</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=1" title="節を編集: 概要">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id=".E9.96.8B.E7.99.BA.E3.81.AE.E7.B5.8C.E7.B7.AF"></span><span class="mw-headline" id="開発の経緯">開発の経緯</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=2" title="節を編集: 開発の経緯">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="/wiki/%E3%82%BC%E3%83%AD%E3%83%83%E3%82%AF%E3%82%B9" title="ゼロックス">ゼロックス</a>の<a href="/wiki/%E3%83%91%E3%83%AD%E3%82%A2%E3%83%AB%E3%83%88%E7%A0%94%E7%A9%B6%E6%89%80" title="パロアルト研究所">パロアルト研究所</a>（<span lang="en">PARC</span>）で<a href="/wiki/1970%E5%B9%B4%E4%BB%A3" title="1970年代">1970年代</a>に約10年かけ3世代（<span lang="en">Smalltalk</span>-72、76、<span lang="en">80</span>）を経て整備された。当初は、<a href="/wiki/%E3%83%80%E3%82%A4%E3%83%8A%E3%83%96%E3%83%83%E3%82%AF" title="ダイナブック">ダイナブック</a>である <ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><span lang="en"><a href="/wiki/Alto" title="Alto">Alto</a></span></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">アルト</rt><span class="rp">）</span></ruby> の<a href="/wiki/%E3%82%AA%E3%83%9A%E3%83%AC%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0" title="オペレーティングシステム">オペレーティングシステム</a>的位置付けだったが、<span lang="en">Alto</span> のゼロックス社製品としての販売の可能性が同社上層部決定により完全に排除されたこと、発案者である<a href="/wiki/%E3%82%A2%E3%83%A9%E3%83%B3%E3%83%BB%E3%82%B1%E3%82%A4" title="アラン・ケイ">アラン・ケイ</a>の研究開発グループ離脱などを受けてダイナブック色は失せ、<span lang="en">Alto</span> のハードウェア技術を基にした商用マシン上で動作するプロの開発者向け<a href="/wiki/%E7%B5%B1%E5%90%88%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83" title="統合開発環境">統合化プログラミング環境</a>「<span lang="en">Smalltalk-</span>80」として<a href="/wiki/1983%E5%B9%B4" title="1983年">1983年</a>に発売されることになる。現在はシンコム<sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[注釈 2]</a></sup>より <ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><span lang="en"><a class="new" href="/w/index.php?title=En:VisualWorks&amp;action=edit&amp;redlink=1" title="En:VisualWorks (存在しないページ)">VisualWorks</a></span></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">ビジュアルワークス</rt><span class="rp">）</span></ruby>という製品名で主要なオペレーティングシステム向けに販売されている。
</p>
<h3><span id="Smalltalk.E3.81.AE.E5.A4.89.E9.81.B7"></span><span class="mw-headline" id="Smalltalkの変遷">Smalltalkの変遷</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=3" title="節を編集: Smalltalkの変遷">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><small>※この節は<sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[3]</a></sup><sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[4]</a></sup>を元に執筆されている。</small>
</p>
<table class="wikitable">
<tbody><tr>
<th>名称</th>
<th>備考
</th></tr>
<tr>
<td><span lang="en">Smalltalk</span>-71</td>
<td>最初にSmalltalkの名前を冠した言語だが、文法など一部仕様が定められただけで実装はされていない。
</td></tr>
<tr>
<td><span lang="en">Smalltalk</span>-72</td>
<td>メッセージングの機構により最初に動作したSmalltalk。初期のGUIはタートルグラフィックスで表現されたウインドウやメニューなど原始的な構成で、言語仕様的にもクラスが関数であったり、メソッド定義がリーダーマクロ（あるいは簡易パーサー記述）のようであったりと、現在のSmalltalkとは異なる点が多い。
</td></tr>
<tr>
<td><span lang="en">Smalltalk</span>-74</td>
<td>Smalltalk-72に対し、処理系の高速化、GUIの整備、オブジェクト指向仮想メモリ (OOZE) を導入したバージョン。
</td></tr>
<tr>
<td><span lang="en">Smalltalk</span>-76</td>
<td>現在のメッセージ式に近い文法（特にキーワードメッセージ式）を取り入れたSmalltalk。メタクラス、第一級オブジェクトとしてのブロックなどはまだない。
</td></tr>
<tr>
<td><span lang="en">Smalltalk</span>-78</td>
<td>Smalltalk-76を、可搬式の試作機「<a class="new" href="/w/index.php?title=En:Xerox_NoteTaker&amp;action=edit&amp;redlink=1" title="En:Xerox NoteTaker (存在しないページ)">NoteTaker</a>」で動作するよう<a class="mw-redirect" href="/wiki/8086" title="8086">8086</a>向けに<a class="mw-redirect" href="/wiki/BitBlt" title="BitBlt">BitBlt</a>等を再構築し、小さく整理したバージョン。
</td></tr>
<tr>
<td><span lang="en">Smalltalk</span>-80</td>
<td>現在に知られる仕様となったSmalltalk。
</td></tr>
<tr>
<td><span lang="en">ObjectWorks</span></td>
<td><span lang="en">Smalltalk</span>-80を一般に普及させるために開発・販売されたSmalltalk。
</td></tr>
<tr>
<td><span lang="en">VisualWorks</span></td>
<td>ObjectWorksを引き継ぎ開発されたSmalltalk。Smalltak直系の子孫で現代に至るSmalltalkの中で本家と言える存在である。
</td></tr>
<tr>
<td><span lang="en">Apple Smalltalk</span></td>
<td><span lang="en">Smalltalk</span>-80 v1（リリース前バージョン）を元に、XEROX社に許諾および指導を受けて<a href="/wiki/Apple" title="Apple">Apple</a>が開発したSmalltalk。同時期に<a href="/wiki/%E3%83%87%E3%82%A3%E3%82%B8%E3%82%BF%E3%83%AB%E3%83%BB%E3%82%A4%E3%82%AF%E3%82%A4%E3%83%83%E3%83%97%E3%83%A1%E3%83%B3%E3%83%88%E3%83%BB%E3%82%B3%E3%83%BC%E3%83%9D%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3" title="ディジタル・イクイップメント・コーポレーション">DEC</a>、<a href="/wiki/%E3%83%86%E3%82%AF%E3%83%88%E3%83%AD%E3%83%8B%E3%82%AF%E3%82%B9" title="テクトロニクス">テクトロニクス</a>、<a href="/wiki/%E3%83%92%E3%83%A5%E3%83%BC%E3%83%AC%E3%83%83%E3%83%88%E3%83%BB%E3%83%91%E3%83%83%E3%82%AB%E3%83%BC%E3%83%89" title="ヒューレット・パッカード">ヒューレット・パッカード</a>でも同様の試みがなされている。
</td></tr>
<tr>
<td><span lang="en">Squeak</span></td>
<td>Appleに移籍したアラン・ケイ、ダン・インガルスらによって<span lang="en">Apple Smalltalk</span>を元に開発された。<span lang="en">Smalltalk</span>の設計者により開発されており、いわば分家と言える存在である。
</td></tr>
<tr>
<td><span lang="en">Pharo</span></td>
<td>Squeakから派生した実装。大胆で実験的な機能追加の試みが多いが、2017年現在精力的かつ活発に開発が進められているSmalltalk処理系のひとつ。
</td></tr></tbody></table>
<h3><span id="Smalltalk_.E3.81.A8.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E6.8C.87.E5.90.91"></span><span class="mw-headline" id="Smalltalk_とオブジェクト指向"><span lang="en">Smalltalk</span> とオブジェクト指向</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=4" title="節を編集: Smalltalk とオブジェクト指向">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>豊富で整備されたクラスライブラリーは、特に<a href="/wiki/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0" title="オブジェクト指向プログラミング">オブジェクト指向プログラミング</a>の手本とされ、<a href="/wiki/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)" title="デザインパターン (ソフトウェア)">デザインパターン</a>の宝庫と称されるまで洗練されたものになっている。また、後世の多くのオブジェクト指向<a href="/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E" title="プログラミング言語">プログラミング言語</a>に直接間接的に多大な影響を与えた。
</p><p>アラン・ケイが「<a href="/wiki/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91" title="オブジェクト指向">オブジェクト指向</a>」という言葉を創った当初は、<span lang="en">Smalltalk</span> システムが体現した「パーソナルコンピューティングに関わる全てを『<a href="/wiki/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" title="オブジェクト">オブジェクト</a>』とそれらの間で交わされる『メッセージ送信』によって表現すること」を意味していた。しかしのちに、<span lang="en"><a href="/wiki/C%2B%2B" title="C++">C++</a></span> の設計者として知られる<a href="/wiki/%E3%83%93%E3%83%A3%E3%83%BC%E3%83%8D%E3%83%BB%E3%82%B9%E3%83%88%E3%83%AD%E3%83%B4%E3%82%B9%E3%83%88%E3%83%AB%E3%83%83%E3%83%97" title="ビャーネ・ストロヴストルップ">ビャーネ・ストロヴストルップ</a>が（自身、<span lang="en">Smalltalk</span> の影響は受けていないと主張する）<span lang="en">C++</span> の設計を通じて整理し発表した「『<a href="/wiki/%E7%B6%99%E6%89%BF_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)" title="継承 (プログラミング)">継承</a>』機構と『<a class="mw-redirect" href="/wiki/%E5%A4%9A%E6%85%8B%E6%80%A7" title="多態性">多態性</a>』を付加した『<a href="/wiki/%E6%8A%BD%E8%B1%A1%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B" title="抽象データ型">抽象データ型</a>』のスーパーセット」という考え方として広く認知されるようになった（<a href="/wiki/%E3%82%AB%E3%83%97%E3%82%BB%E3%83%AB%E5%8C%96" title="カプセル化">カプセル化</a>、<a href="/wiki/%E7%B6%99%E6%89%BF_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)" title="継承 (プログラミング)">継承</a>、<a class="mw-redirect" href="/wiki/%E5%A4%9A%E6%85%8B%E6%80%A7" title="多態性">多態性</a>）。現在は、両者の渾然一体化した曖昧な概念として語られることが多い。
</p>
<h3><span id="Smalltalk_.E3.81.AE.E7.8B.AC.E8.87.AA.E6.80.A7"></span><span class="mw-headline" id="Smalltalk_の独自性"><span lang="en">Smalltalk</span> の独自性</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=5" title="節を編集: Smalltalk の独自性">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> は、オブジェクトへのメッセージ送信を率直に記述する表記の特殊性や、制御構造をもたずオブジェクトへのメッセージ送信の形で記述する徹底ぶりとも併せて、<a href="/wiki/C%E8%A8%80%E8%AA%9E" title="C言語">C言語</a>や <span lang="en">C++</span> などの流れを強く受け継ぐ言語、およびその開発手法に慣れた開発者にとって極めてとっつきにくい言語・環境であるといわれている。このことは、<span lang="en">Smalltalk</span> が単なるプログラミング言語ではなく、従来のオペレーティングシステムの概念をも包括する「環境」であることが一つの理由である。<span lang="en">Smalltalk</span> を単なる言語としてとらえると、他の言語と比較したとき、使用するオペレーティングシステムの<a class="mw-redirect" href="/wiki/%E3%82%B0%E3%83%A9%E3%83%95%E3%82%A3%E3%82%AB%E3%83%AB%E3%83%A6%E3%83%BC%E3%82%B6%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9" title="グラフィカルユーザインターフェース">グラフィカルユーザインターフェース</a>に全く従わないなど、その独自性が大きな「欠点」として映る場合もある。
</p><p>これは <span lang="en">VisualWorks</span> や <ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><span lang="en">Squeak</span></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">スクイーク</rt><span class="rp">）</span></ruby> など、旧来の <span lang="en">Smalltalk</span> 環境、つまりダイナブックコンピュータ環境の要素を引き継ぐ統合開発環境を通じて <span lang="en">Smalltalk</span> 言語や処理系を学ぶなら、多かれ少なかれ新たなオペレーティングシステムに接するような心構えを持つべきことを意味する。
</p>
<h2><span id=".E7.92.B0.E5.A2.83.E3.81.8A.E3.82.88.E3.81.B3.E5.87.A6.E7.90.86.E7.B3.BB.E3.81.A8.E3.81.97.E3.81.A6.E3.81.AESmalltalk"></span><span class="mw-headline" id="環境および処理系としてのSmalltalk">環境および処理系としてのSmalltalk</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=6" title="節を編集: 環境および処理系としてのSmalltalk">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="Smalltalk_.E7.92.B0.E5.A2.83.E3.81.8B.E3.82.89.E8.A6.8B.E3.81.9FSmalltalk_.E8.A8.80.E8.AA.9E"></span><span class="mw-headline" id="Smalltalk_環境から見たSmalltalk_言語"><span lang="en">Smalltalk</span> 環境から見た<span lang="en">Smalltalk</span> 言語</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=7" title="節を編集: Smalltalk 環境から見たSmalltalk 言語">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> 環境から見た <span lang="en">Smalltalk</span> 言語は、いわば <span lang="en"><a href="/wiki/Bash" title="Bash">bash</a></span> などの<a href="/wiki/%E3%82%B7%E3%82%A7%E3%83%AB" title="シェル">シェル</a>に近い。<span lang="en">Smalltalk</span> 環境内であればどこでもマウスで選択した文字列を <span lang="en">Smalltalk</span> のソースコードとして実行できるためシェルにコマンドを打ち込んだ時の様に簡単な問い合わせをすぐ実行できるようになっている。
</p><p>例えばオブジェクト(クラスやメソッドも含む)の構造を調べたければ、そのオブジェクトに<ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><code>#browse</code></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">ブラウズ</rt><span class="rp">）</span></ruby>セレクターあるいは<ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><code>#inspect</code></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">インスペクト</rt><span class="rp">）</span></ruby>セレクターを使ったメッセージ式を書き、そのメッセージ式をマウスで選択してdo it(WindowsであればCtrl+Dを押す)すれば良い。
</p><p>また、設定値の指定に <span lang="en">Smalltalk</span> 言語のメッセージ式が使われる。現在設定されている値がメッセージ式として取得でき、値の設定をメッセージ式として指定する。この設定値を指定するメッセージ式は <span lang="en">Smalltalk</span> 環境の実行中に設定用のウィンドウから入力される。
</p>
<h3><span id=".E4.BB.AE.E6.83.B3.E6.A9.9F.E6.A2.B0.E6.96.B9.E5.BC.8F"></span><span class="mw-headline" id="仮想機械方式">仮想機械方式</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=8" title="節を編集: 仮想機械方式">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id=".E4.BB.AE.E6.83.B3.E6.A9.9F.E6.A2.B0.E3.81.AB.E3.82.88.E3.82.8B.E5.AE.9F.E8.A1.8C"></span><span class="mw-headline" id="仮想機械による実行">仮想機械による実行</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=9" title="節を編集: 仮想機械による実行">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> 環境は、<span lang="en">Smalltalk</span> 環境の実行方法として現実のハードウェアに依存している機械語命令を使わず、現実のハードウェアから独立した中間言語命令(仮想機械に対する機械語命令)を<a href="/wiki/%E4%BB%AE%E6%83%B3%E6%A9%9F%E6%A2%B0" title="仮想機械">仮想機械</a>により実行する仮想機械方式を採用している。 <span lang="en">Smalltalk</span> の中間言語命令は、全てイメージファイルというファイルに書き込まれ <span lang="en">Smalltalk</span> の仮想機械はそのイメージファイルを読み込んで<span lang="en">Smalltalk</span> 環境を実行する。
</p><p>この仮想機械方式による <span lang="en">Smalltalk</span> の実行方法は <span lang="en">Smalltalk</span> の言語仕様にも含まれている。<sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[5]</a></sup>
なお、<span lang="en">Smalltalk</span> が導入したこの仮想機械方式は<span lang="en"><a class="new" href="/w/index.php?title=EULER&amp;action=edit&amp;redlink=1" title="EULER (存在しないページ)">EULER</a></span>の<a href="/wiki/P%E3%82%B3%E3%83%BC%E3%83%89%E3%83%9E%E3%82%B7%E3%83%B3" title="Pコードマシン">pコードマシン</a>から<a href="/wiki/%E3%82%A2%E3%83%A9%E3%83%B3%E3%83%BB%E3%82%B1%E3%82%A4" title="アラン・ケイ">アラン・ケイ</a>が着想を得たものである。<sup class="reference" id="cite_ref-8"><a href="#cite_note-8">[6]</a></sup>
</p>
<h4><span id=".E3.82.A4.E3.83.A1.E3.83.BC.E3.82.B8.E3.83.95.E3.82.A1.E3.82.A4.E3.83.AB"></span><span class="mw-headline" id="イメージファイル">イメージファイル</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=10" title="節を編集: イメージファイル">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>イメージファイルは、<span lang="en">Smalltalk</span> 環境の実行状態をそのまま保存したファイルである。イメージファイルは <span lang="en">Smalltalk</span> 環境実行中に生成された全てのオブジェクトを直列化して保存することで<span lang="en">Smalltalk</span> 環境の実行状態を保存している。この直列化されたオブジェクトには、<span lang="en">Smalltalk</span> の中間言語も含まれている。イメージファイルに含まれる中間言語命令は、<span lang="en">Smalltalk</span> 自身によって記述されたコンパイラーによってソースコードから翻訳された、バイト列のオブジェクトである。
</p>
<h4><span id=".E4.BB.AE.E6.83.B3.E6.A9.9F.E6.A2.B0.E3.81.A8.E3.83.96.E3.83.BC.E3.83.88.E3.82.B9.E3.83.88.E3.83.A9.E3.83.83.E3.83.97"></span><span class="mw-headline" id="仮想機械とブートストラップ">仮想機械とブートストラップ</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=11" title="節を編集: 仮想機械とブートストラップ">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> の実行環境が全く存在しない初期の状況ではコンパイラーも仮想機械も <span lang="en">Smalltalk</span> で用意する事はできない。このため <span lang="en">Smalltalk</span> の初期段階では<a href="/wiki/Alto" title="Alto">ALTO</a>の<a href="/wiki/%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E" title="アセンブリ言語">アセンブリ言語</a>によりコンパイラーや仮想機械が実装されていた。<sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[7]</a></sup>
</p>
<h3><span id=".E5.AE.9F.E8.A1.8C.E6.99.82.E6.9B.B8.E3.81.8D.E6.8F.9B.E3.81.88"></span><span class="mw-headline" id="実行時書き換え">実行時書き換え</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=12" title="節を編集: 実行時書き換え">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span>環境は翻訳方式を使う処理系としては珍しくプログラムの実行時書き換えを基本とする。例えば後述のClass Browserに入力したプログラムはソースコードを中間言語に変換したあと<span lang="en">Smalltalk</span>環境の一部として取り込まれ、環境を再起動したり読み込み操作をしなくても起動中の<span lang="en">Smalltalk</span>環境内で実行することができる。C++のような翻訳式の言語であれば原則、ソースコードを書き換えた場合は原則プログラムの再起動が必要となる。またPythonの様な言語ではソースコードを再読み込みする処理を予め書き換えたい処理の呼び出し元に組み込んでおかなければソースコードをいくら書き換えても動作に反映できない。<span lang="en">Smalltalk</span>ではその再起動や再読み込み処理の組み込みが必要ない。このため環境をソースコードを書き換える都度環境全体を再起動しなくて済むのはもちろん、Windowを表示するプログラムを作った場合であれば、Window内のButtonの動作を変更する時もWindowを表示したままソースコードを書き換えて動作を変更できる。このためButtonを押すまでに複数の手順が必要なプログラムやWindowの表示に時間がかかるプログラムでもButtonを表示した状態から再起動せず何度でもやり直しができ効率的なソースコード変更が可能になっている。
</p>
<h3><span id=".E7.92.B0.E5.A2.83.E3.81.AE.E7.A8.AE.E9.A1.9E"></span><span class="mw-headline" id="環境の種類">環境の種類</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=13" title="節を編集: 環境の種類">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<table class="sortable wikitable">
<caption>Smalltalk環境の種類
</caption>
<tbody><tr style="position: sticky; top: 0;">
<th>環境</th>
<th>使用している仮想機械</th>
<th>有償版</th>
<th>無償版</th>
<th>CPU</th>
<th>OS</th>
<th>備考
</th></tr>
<tr>
<td><span lang="en">ObjectWorks</span></td>
<td>-</td>
<td>○</td>
<td>○<sup class="reference" id="cite_ref-10"><a href="#cite_note-10">[8]</a></sup></td>
<td>-</td>
<td>Win</td>
<td>2017年現在VisualWorksを販売するCincomのWindows向け製品となっている。
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=En:VisualWorks&amp;action=edit&amp;redlink=1" title="En:VisualWorks (存在しないページ)">VisualWorks</a></span></td>
<td><span lang="en">Object Engine</span></td>
<td>○</td>
<td>○<sup class="reference" id="cite_ref-11"><a href="#cite_note-11">[9]</a></sup></td>
<td>x86/x64</td>
<td>Unix/Linux/OSX/Win</td>
<td>ゼロックス時代のSmalltalkを引き継ぐSmalltalk環境。名前空間<sup class="reference" id="cite_ref-12"><a href="#cite_note-12">[10]</a></sup>やイメージファイルからモジュールを切り離せるパーセル<sup class="reference" id="cite_ref-13"><a href="#cite_note-13">[11]</a></sup>、OSのデスクトップ上に表示できるウィンドウ等以前のSmalltalkより大きく拡張されている。2017年現在も活発に開発されている。
</td></tr>
<tr>
<td><span lang="en">Squeak</span></td>
<td><span lang="en">Cog VM</span></td>
<td>×</td>
<td>○</td>
<td>x86</td>
<td>Unix/Linux/OSX/Win</td>
<td>Apple Smalltalkから派生したプラットフォーム非依存やマルチメディア対応を強化したSmalltalk環境。
</td></tr>
<tr>
<td><a href="/wiki/Pharo" title="Pharo">Pharo</a></td>
<td><span lang="en">Cog VM</span></td>
<td>×</td>
<td>○</td>
<td>x86/x64</td>
<td>Unix/Linux/OSX/Win</td>
<td>Squeakから開発向けに派生したSmalltalk環境。<sup class="reference" id="cite_ref-14"><a href="#cite_note-14">[12]</a></sup>
</td></tr>
<tr>
<td><span lang="jp"><a href="/wiki/Gemstone" title="Gemstone">GemStone/S</a></span></td>
<td>-</td>
<td>○</td>
<td>○</td>
<td>x86/x64</td>
<td>Unix/Linux/OSX/Win</td>
<td>データベース管理システムとしての用途に特化したSmalltalk環境。その用途からGUIは無い。2017年現在GemTalk systemにて無償版が配布されている。<a class="external autonumber" href="https://gemtalksystems.com/" rel="nofollow">[2]</a>2017年現在も活発に開発されている。
</td></tr>
<tr>
<td><a href="/wiki/GNU_Smalltalk" title="GNU Smalltalk">GNU Smalltalk</a></td>
<td>-</td>
<td>×</td>
<td>○</td>
<td>x86/x64/arm</td>
<td>Unix/Linux/Android/OSX/Win</td>
<td>GUI無しでの開発に特化しており他の環境ではGUIを前提としている機能をCUIで実行できる。ただしGUI環境も用意されている。<a class="external autonumber" href="https://www.gnu.org/software/smalltalk/manual/gst.html" rel="nofollow">[3]</a>Cと連携するための機能が他の処理系と比較して特に強力であり、関数のポインターを指定すべき引数にブロックを渡したり、関数呼出もできる各種ポインター操作ができるようになっている。しかも、関数のポインターとして渡すブロックは変数を束縛した状態で渡す事が可能になっている。
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=En:Strongtalk&amp;action=edit&amp;redlink=1" title="En:Strongtalk (存在しないページ)">Strongtalk</a></span></td>
<td>-</td>
<td>×</td>
<td>○</td>
<td>-</td>
<td>Win</td>
<td>言語仕様に静的型検査を追加したSmalltak環境。Hot spotによる最適化を初めて実装したVMで極めて高速に動作する。Strongtalkで開発されたHot spot技術はJavaVMなどにも移植された<sup class="reference" id="cite_ref-15"><a href="#cite_note-15">[13]</a></sup>
</td></tr>
<tr>
<td><span lang="en">Gradualtalk</span></td>
<td><span lang="en">Cog VM</span></td>
<td>×</td>
<td>○</td>
<td>x64</td>
<td>Unix/Linux/OSX/Win</td>
<td>Pharoの環境を元に言語仕様に静的型検査と動的型検査を追加したSmalltak環境。<sup class="reference" id="cite_ref-16"><a href="#cite_note-16">[14]</a></sup>
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=Amber_Smalltalk&amp;action=edit&amp;redlink=1" title="Amber Smalltalk (存在しないページ)">Amber Smalltalk</a></span></td>
<td>-</td>
<td>×</td>
<td>○</td>
<td>Web Browserに依存</td>
<td>Web Browserに依存</td>
<td>Web Browser上で動作するSmalltalk環境。<sup class="reference" id="cite_ref-17"><a href="#cite_note-17">[15]</a></sup>
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=En:Dolphin_Smalltalk&amp;action=edit&amp;redlink=1" title="En:Dolphin Smalltalk (存在しないページ)">Dolphin Smalltalk</a></span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Win</td>
<td>Windowsに特化しておりOS固有の機能やOS固有のGUIを使用できる。OSとの親和性が高い。<sup class="reference" id="cite_ref-18"><a href="#cite_note-18">[16]</a></sup><sup class="reference" id="cite_ref-19"><a href="#cite_note-19">[17]</a></sup>SmalltalkからJavaを呼び出すJNIPortを最初に実装した処理系であり、JNIPortが使える処理系ではDolphin Smalltalkの名前を目にする機会が多い。<sup class="reference" id="cite_ref-20"><a href="#cite_note-20">[18]</a></sup>
</td></tr>
<tr>
<td><span lang="en">Smalltalk/JVM</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Java VMに依存</td>
<td>Java VMに依存</td>
<td>Java VMを使用する。<sup class="reference" id="cite_ref-21"><a href="#cite_note-21">[19]</a></sup>
</td></tr>
<tr>
<td><span lang="en">#Smalltalk</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td><a href="/wiki/%E5%85%B1%E9%80%9A%E8%A8%80%E8%AA%9E%E5%9F%BA%E7%9B%A4" title="共通言語基盤">共通言語基盤</a>に依存</td>
<td><a href="/wiki/%E5%85%B1%E9%80%9A%E8%A8%80%E8%AA%9E%E5%9F%BA%E7%9B%A4" title="共通言語基盤">共通言語基盤</a>に依存</td>
<td>.NET Frameworkを使用する。<sup class="reference" id="cite_ref-22"><a href="#cite_note-22">[20]</a></sup>
</td></tr>
<tr>
<td><span lang="en">Smalltalk/X</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Unix</td>
<td>Unixで動作するSmalltalk環境。
</td></tr>
<tr>
<td><span lang="en">Smalltalk/V</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>pc98で動作するSmalltalk環境。
</td></tr>
<tr>
<td><a href="/wiki/VisualAge" title="VisualAge">VisualAge</a></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td><span lang="en">Smalltalk/V</span>から<a href="/wiki/IBM" title="IBM">IBM</a>が派生させて開発したSmalltalkベースの統合開発環境。Javaで記述された<a href="/wiki/Eclipse_(%E7%B5%B1%E5%90%88%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83)" title="Eclipse (統合開発環境)">Eclipse</a>の原型でもある。
<p>VA Smalltalkは
</p>
</td></tr>
<tr>
<td>VA Smalltalk
</td>
<td>-
</td>
<td>-
</td>
<td>-
</td>
<td>-
</td>
<td>-
</td>
<td>IBMが開発を停止したVisualAgeの派生製品。<sup class="reference" id="cite_ref-23"><a href="#cite_note-23">[21]</a></sup>2018年現在も開発が継続されている。
</td></tr>
<tr>
<td><span lang="en">Smalltalk MT</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Win</td>
<td>Windowsに特化しActive Xを生成できる。<sup class="reference" id="cite_ref-24"><a href="#cite_note-24">[22]</a></sup>
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=En:Little_Smalltalk&amp;action=edit&amp;redlink=1" title="En:Little Smalltalk (存在しないページ)">Little Smalltalk</a></span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Smalltalk環境として稼働する上で必要最低限の機能だけを備えるSmalltalk環境。
</td></tr>
<tr>
<td><span lang="en">SmallScript</span>（<span lang="en">S#</span>）</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-
</td></tr>
<tr>
<td><span lang="en"><a class="new" href="/w/index.php?title=Ambrai_Smalltalk&amp;action=edit&amp;redlink=1" title="Ambrai Smalltalk (存在しないページ)">Ambrai Smalltalk</a></span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-
</td></tr>
<tr>
<td><span lang="en">ConcurrentSmalltalk</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td><a href="/wiki/%E3%82%A2%E3%82%AF%E3%82%BF%E3%83%BC%E3%83%A2%E3%83%87%E3%83%AB" title="アクターモデル">アクターモデル</a>による分散処理を導入した環境。<a class="external autonumber" href="https://ci.nii.ac.jp/naid/110003743373" rel="nofollow">[4]</a>
</td></tr>
<tr>
<td><span lang="en">Distributed Smalltalk</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-
</td></tr>
<tr>
<td><span lang="en">PIC/Smalltalk</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-
</td></tr>
<tr>
<td><span lang="en">Smalltalk Express</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-
</td></tr></tbody></table>
<h3><span id="GUI.E3.83.84.E3.83.BC.E3.83.AB"></span><span class="mw-headline" id="GUIツール">GUIツール</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=14" title="節を編集: GUIツール">編集</a><span class="mw-editsection-bracket">]</span></span></h3>

<h4><span id=".E6.BA.96.E6.A8.99.E6.BA.96.E7.9A.84.E3.81.AAGUI.E3.83.84.E3.83.BC.E3.83.AB"></span><span class="mw-headline" id="準標準的なGUIツール">準標準的なGUIツール</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=15" title="節を編集: 準標準的なGUIツール">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>GUIを使わないような特殊なものを除き、大半のSmalltalk環境では次のようなGUIツールが用意されている。
</p>
<ul><li>Class Browser(System Browser)</li>
<li>Transcript</li>
<li>Workspace</li>
<li>Debugger/Notifier</li>
<li>Inspector</li></ul>
<p>Smalltalkの開発ではこれらのツールを使って開発する事が半ば前提となっている。
</p>
<h4><span id="Class_Browser.28System_Browser.29"></span><span class="mw-headline" id="Class_Browser(System_Browser)">Class Browser(System Browser)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=16" title="節を編集: Class Browser(System Browser)">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Smalltalk環境内に存在する全てのクラスを(存在する場合は名前空間も)表示/編集できるツールで、Smalltalk開発において中核となるツールである。
</p>

<h4><span class="mw-headline" id="Transcript">Transcript</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=17" title="節を編集: Transcript">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>言うなれば出力しかできないコンソールといったツールで、プログラムの実行結果を簡易的に表示したいときに使われるツールである。Smalltalk環境内でTranscript変数に書き込まれたメッセージは、全てこのTranscriptに表示される。
</p>
<h4><span class="mw-headline" id="Workspace">Workspace</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=18" title="節を編集: Workspace">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>言うなればコンソールの入力側とテキストエディターを組み合わせた様なツールである。一見すれば書いたコードを実行できるだけの簡易的なテキストエディターにしか見えないが、WorkspaceはWorkspace変数というWorkspace固有の変数を持っており、Workspace内で実行されたSmalltalkコードの実行結果を保持することができる。このため、長いコードを書くような用途では使わず、Smalltalk環境に対するパッケージの追加や、環境設定、ファイルの一時的な操作など一時的な操作を実行する場所として使われる。
</p>
<h4><span id="Debugger.2FNotifier"></span><span class="mw-headline" id="Debugger/Notifier">Debugger/Notifier</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=19" title="節を編集: Debugger/Notifier">編集</a><span class="mw-editsection-bracket">]</span></span></h4>

<h4><span class="mw-headline" id="Inspector">Inspector</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=20" title="節を編集: Inspector">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>オブジェクトの内部構造を再帰的に表示するツールである。また、多くの場合オブジェクトの編集が可能でありWorkspaceと組み合わせてオブジェクトを組み立てていくことが可能である。例えば画面部品をWindowを表すオブジェクトに組み込み、クラス変数に格納するといった具合である。Inspectorに限らずSmalltalk環境全体に共通することであるが、オブジェクト内の変数を表示するときは内部構造そのままではなくオブジェクトの文字列表現で表示する。このため内部がHash map等複雑な構造になっている場合でも<code>Dictionary (#key -&gt; 'value' )</code>といった読み易い表示となる。
</p>
<h2><span id=".E8.A8.80.E8.AA.9E.E3.81.A8.E3.81.97.E3.81.A6.E3.81.AESmalltalk"></span><span class="mw-headline" id="言語としてのSmalltalk">言語としてのSmalltalk</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=21" title="節を編集: 言語としてのSmalltalk">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id=".E8.A8.80.E8.AA.9E.E3.81.A8.E3.81.97.E3.81.A6.E3.81.AE.E8.A8.AD.E8.A8.88.E6.80.9D.E6.83.B3"></span><span class="mw-headline" id="言語としての設計思想">言語としての設計思想</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=22" title="節を編集: 言語としての設計思想">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>言語として <span lang="en">Smalltalk</span> が目指したもの。それは計算機を計算機の集合体として構築し、さらに計算機を構成する個々の計算機も計算機の集合体で構築するというように、再帰的な計算機を構築することであった。この再帰的な計算機を構築している無数の計算機は、個々の内部には干渉せずメッセージによる通信のみによって相互作用を発生させ目的の計算を完遂させる。
</p><p>ここでいう計算機が <span lang="en">Smalltalk</span> ではオブジェクトという形で実装された。
</p><p>この設計思想の誕生は、<span title="リンク先の項目はまだありません。新規の執筆や他言語版からの翻訳が望まれます。"><a class="new" href="/w/index.php?title=%E3%83%AD%E3%83%90%E3%83%BC%E3%83%88%E3%83%BBS%E3%83%BB%E3%83%90%E3%83%BC%E3%83%88%E3%83%B3&amp;action=edit&amp;redlink=1" title="ロバート・S・バートン (存在しないページ)">ロバート・S・バートン</a><span class="noprint" style="font-size: 0.77em; font-weight: normal;">（<a class="new" href="/w/index.php?title=En:Robert_S._Barton&amp;action=edit&amp;redlink=1" title="En:Robert S. Barton (存在しないページ)">英語版</a>）</span></span>と<a href="/wiki/%E3%83%90%E3%83%AD%E3%83%BC%E3%82%B9_B5000" title="バロース B5000">B5000</a>の設計者らが会談した際の次の発言をアラン・ケイが聞き「計算機の全体を計算機とみなした場合、その計算機の構成要素を計算機に分解するのではなく関数やデータ構造に分解したいと誰が思うのか」と疑問を浮かべた事がきっかけとなっている。
<sup class="reference" id="cite_ref-25"><a href="#cite_note-25">[23]</a></sup>
</p>
<blockquote class="toccolours" style="float:none; display:table; border: 1px solid #aaa;"><div style="padding: 10px 15px 10px 15px;"><span lang="en">“The basic principal of recursive design is to make the parts have the same power as the whole.”</span><br/>「再帰設計の基本原理は、部品が全体と同じ力を持つようにすることだ」</div></blockquote>
<p>ここで言及された再帰という概念は、オブジェクトの成立以外にも <span lang="en">Smalltalk</span> の至るところに影響を与えている。
</p>
<ul><li>反復はメソッドの再帰呼び出し。</li>
<li>インスタンスオブジェクトを生成しているクラスオブジェクトも、クラスオブジェクトに所属するインスタンスオブジェクトであり再帰関係を持つ。</li>
<li><code>Metaclass</code>は<code>Metaclass class</code>のインスタンスオブジェクトであり<code>Metaclass class</code>は、<code>Metaclass</code>であり再帰関係を持つ。</li>
<li>基本的な派生元となる<code>Object</code>や<code>ProtoObject</code>は、それらから派生した<code>UndefinedObject</code>のインスタンスオブジェクトである<code>nil</code>を継承しており再帰関係を持つ。</li>
<li><span lang="en">Smalltalk</span> 言語は <span lang="en">Smalltalk</span> 言語自身によりメッセージ送信等の言語機能が制御される。</li>
<li><span lang="en">Smalltalk</span> 言語の翻訳や仮想機械は <span lang="en">Smalltalk</span> 言語により実装される。</li>
<li><span lang="en">Smalltalk</span> 言語の大域変数は<code>Smalltalk</code>変数に格納されたオブジェクトにより管理されるが、<code>Smalltalk</code>変数自体も大域変数である。</li></ul>
<h3><span id=".E8.A8.80.E8.AA.9E.E4.BB.95.E6.A7.98.E3.81.AE.E7.A8.AE.E9.A1.9E"></span><span class="mw-headline" id="言語仕様の種類">言語仕様の種類</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=23" title="節を編集: 言語仕様の種類">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> の言語仕様は原則として非常に単純なため、環境もしくは処理系の相違による互換の有無は、クラスライブラリーの差異程度に由来するもの（ある意味、バージョンの違いもこれも含まれる）から、言語仕様自体の改変に由来のものまで空間的に連続で多岐にわたる。このため、単に <span lang="en">Smalltalk</span> として語弊のある場合、一般にその環境および処理系の呼称もしくは商標（必要ならそのバージョン）をして他と区別するために用いる慣習がある。
</p>
<h3><span id=".E6.96.87.E6.B3.95"></span><span class="mw-headline" id="文法">文法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=24" title="節を編集: 文法">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id=".E3.82.B3.E3.83.A1.E3.83.B3.E3.83.88"></span><span class="mw-headline" id="コメント">コメント</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=25" title="節を編集: コメント">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>「<code>"～"</code>」のようにダブルクオーテーションでくくった文字列がコメントとして扱われる。
</p>
<h4><span id=".E5.AE.9A.E6.95.B0.E8.A1.A8.E7.8F.BE"></span><span class="mw-headline" id="定数表現">定数表現</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=26" title="節を編集: 定数表現">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>主な定数表現には次のようなものがある。
</p>
<table class="wikitable">
<tbody><tr>
<th>型</th>
<th>例
</th></tr>
<tr>
<td>整数</td>
<td><code>3</code>
</td></tr>
<tr>
<td>整数(16進数)</td>
<td><code>16r3</code>
</td></tr>
<tr>
<td>小数</td>
<td><code>3.4</code>
</td></tr>
<tr>
<td>浮動小数点数</td>
<td><code>3.4e5</code>
</td></tr>
<tr>
<td>文字</td>
<td><code>$a</code>
</td></tr>
<tr>
<td>文字列</td>
<td><code>'abc'</code>
</td></tr>
<tr>
<td>シンボル</td>
<td><code>#abc</code>
</td></tr>
<tr>
<td>記号を含むシンボル</td>
<td><code>#'*abc'</code>
</td></tr>
<tr>
<td>配列（要素は定数限定）</td>
<td><code>#( 'This' #is $a 10 )</code>
</td></tr>
<tr>
<td>バイト配列（要素は0〜255の定数限定）</td>
<td><code>#[ 0 255 16r0 16r255 ]</code>
</td></tr>
<tr>
<td>ブロック（引き数なし）</td>
<td><code>[ 3 + 4 ]</code>
</td></tr>
<tr>
<td>ブロック（引き数付き）</td>
<td><code>[ :x | x + 1 ]</code>
</td></tr></tbody></table>
<p>定数ではないが、よく用いられるオブジェクトの生成式には次のようなものがある。
</p>
<table class="wikitable">
<tbody><tr>
<th>型</th>
<th>例
</th></tr>
<tr>
<td>分数</td>
<td><code>3 / 4</code>
</td></tr>
<tr>
<td>複素数</td>
<td><code>3 + 4i</code>
</td></tr>
<tr>
<td>座標</td>
<td><code>3 @ 4</code>
</td></tr>
<tr>
<td>共同体</td>
<td><code>'a' -&gt; 0</code>
</td></tr></tbody></table>
<p>言語機能の様に見えるが「<code>/</code>」や「<code>@</code>」などはただのセレクターであり、<span lang="en">Smalltalk</span> の使用者も同様の機能を作ることが出来る。
</p>
<h4><span id=".E5.A4.89.E6.95.B0"></span><span class="mw-headline" id="変数">変数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=27" title="節を編集: 変数">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>一時変数は宣言が必要で、「<code>|</code>」で挿むように記述する。変数への代入は「<code>:=</code>」。古い処理系では「<code>_</code>」が使用された（字形は「←」）。変数に型はなく全て<a href="/wiki/%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AB" title="ハンドル">ハンドル</a>になっている。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
| a b |
a := 3.
b := 4.
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E6.93.AC.E5.A4.89.E6.95.B0"></span><span class="mw-headline" id="擬変数">擬変数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=28" title="節を編集: 擬変数">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>他の言語で予約語にあたる擬変数は <code>self</code>、<code>super</code>、<code>nil</code>、<code>true</code>、<code>false</code>、<code>thisContext</code> の6つ。<code>self</code> と <code>super</code> はそのメソッドを呼び出したメッセージの受け手（レシーバー）を、<code>nil</code> と <code>true</code> と <code>false</code> はそれぞれ <code>UndefinedObject</code>、<code>True</code>、<code>False</code> に属するソルインスタンス（唯一の実体）を、<code>thisContext</code> は実行中のコンテキスト（スタックフレーム）を参照するのに使える。
</p><p><code>self</code> と <code>super</code> は同種のオブジェクトだが、メッセージ式でメッセージレシーバーに指定されたときのメソッド検索の起点が異なり、<code>self</code> ではオブジェクトが属するクラス、<code>super</code> ではその基底クラスである。
</p>
<h4><span id=".E3.83.A1.E3.83.83.E3.82.BB.E3.83.BC.E3.82.B8.E5.BC.8F"></span><span class="mw-headline" id="メッセージ式">メッセージ式</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=29" title="節を編集: メッセージ式">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> では「メッセージ式」と呼ばれる書式でコードを記述する。メッセージ式は「レシーバー」に「メッセージ」を送ることを表すためのもので、そのまま
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
receiver message
&lt;/syntaxhighlight&gt;
</p><p>と記述する。メッセージはさらに、呼び出されるされるメソッド（方法）の名前を表す「メッセージセレクター」<sup class="reference" id="cite_ref-26"><a href="#cite_note-26">[注釈 3]</a></sup>と0個以上の引数の組み合わせからなる。ただし <span lang="en">Smalltalk</span> の場合必ずしもセレクターとメソッド名は一致しない。また、メッセージの送り先はメソッドではなくブロックや外部の関数になっている場合もある。セレクターは引数の数だけコロンを自身に含まなければならず、メッセージとして記述する際にはコロンの直後に引数を挿入する。
</p>
<table class="wikitable">
<tbody><tr>
<th>メッセージ式</th>
<th>セレクター</th>
<th>引数
</th></tr>
<tr>
<td><code>receiver noArg</code></td>
<td><code>noArg</code></td>
<td class="table-na" style="background:#ececec;color:#2c2c2c;vertical-align:middle;font-size:smaller;text-align:center;">N/A
</td></tr>
<tr>
<td><code>receiver oneArg: arg</code></td>
<td><code>oneArg:</code></td>
<td><code>arg</code>
</td></tr>
<tr>
<td><code>receiver firstArg: arg1 secondArg: arg2</code></td>
<td><code>firstArg:secondArg:</code></td>
<td><code>arg1</code>、<code>arg2</code>
</td></tr></tbody></table>
<p>引数なしのメッセージを<b>単項メッセージ</b>、そのセレクターを<b>単項セレクター</b>と呼び、引数ありのメッセージを<b>キーワードメッセージ</b>、そのセレクターを<b>キーワードセレクター</b>と呼ぶ。メッセージ記述の際に引数の挿入により分断されたキーワードセレクター断片（例えば <code>firstArg:secondArg:</code> なら <code>firstArg:</code> と <code>secondArg:</code>）を<b>キーワード</b>と呼ぶが、あくまで便宜的な呼び名に過ぎず、そうした言語要素は存在しない。他の言語に見られる「キーワード引数」のように省略できるものではなく、また引数順を入れ替えられるものでもない。
</p><p>セレクターは原則としてアルファベットと数字と0個以上（かつ、引数と同数）のコロンから成るが、例外として二項演算を模した記述が可能となるように記号のみから成る引数1つのセレクターを使ってメッセージ式を記述することもできる。これを<b><a href="/wiki/%E5%88%A9%E7%94%A8%E8%80%85%E5%AE%9A%E7%BE%A9%E6%BC%94%E7%AE%97%E5%AD%90" title="利用者定義演算子">二項メッセージ</a></b>、そのセレクターを<b>二項セレクター</b>と呼ぶ。
</p>
<table class="wikitable">
<tbody><tr>
<th>メッセージ式</th>
<th>セレクター</th>
<th>引数
</th></tr>
<tr>
<td><code>3 + 4</code></td>
<td><code>+</code></td>
<td><code>4</code>
</td></tr>
<tr>
<td><code>#( 1 2 3 ), #( 4 5 )</code></td>
<td><code>,</code></td>
<td><code>#( 4 5 )</code>
</td></tr></tbody></table>
<p>この場合、上の「<code>3 + 4</code>」では、「<code>3</code>」がレシーバーで「<code>+ 4</code>」がメッセージである。
</p><p>通常の処理系では、単項メッセージ、二項メッセージ、キーワードメッセージの順で評価される。二項メッセージ間で乗除の優先はない。
</p>
<table class="wikitable">
<tbody><tr>
<th>メッセージ式</th>
<th>結合性を明示した等価の表現
</th></tr>
<tr>
<td><code>3 + 4 * 5 min: 6 factorial</code></td>
<td><code>( ( 3 + 4 ) * 5 ) min: ( 6 factorial )</code>
</td></tr></tbody></table>
<p>セミコロン「<code>;</code>」でメッセージ式を区切る事により、1個のレシーバーに対して複数のメッセージを送ることが出来る。これをカスケード式という。
&lt;syntaxhighlight lang="smalltalk"&gt;
| collection |
</p><p>collection := OrderedCollection
	new
	add: 0;
	add: 1;
	add: 2;
	add: 3;
	add: 4;
	yourself.
&lt;/syntaxhighlight&gt;
カスケード式を用いて書いた上記の文は、カスケード式を用いない次の文と等価である。
&lt;syntaxhighlight lang="smalltalk"&gt;
| collection |
</p><p>collection := OrderedCollection new.
collection add: 0.
collection add: 1.
collection add: 2.
collection add: 3.
collection add: 4.
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E5.88.B6.E5.BE.A1.E6.A7.8B.E6.96.87"></span><span class="mw-headline" id="制御構文">制御構文</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=30" title="節を編集: 制御構文">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>複数の式を順次実行する場合は、式をピリオドで区切る。メソッドを中断し戻り値を指定するには<b>復帰文</b>「<code>^ 戻り値式</code>」を使う。言語機能として持つ制御構文は復帰文を除いて存在せず、復帰文以外の制御は制御構文と同等の機能を持ったメッセージ式で代用する。
</p>
<h5><span id=".E3.83.96.E3.83.AD.E3.83.83.E3.82.AF"></span><span class="mw-headline" id="ブロック">ブロック</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=31" title="節を編集: ブロック">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>ブロックは、他の言語で言えば無名関数やクロージャーに該当する機能である。ただし <span lang="en">Smalltalk</span> のブロックは関数ではなくオブジェクトである事に加え、無名関数というより制御構文としての性格が強くなっている。並列実行の基本単位にもなる。
</p><p>ブロックは、引き数の数毎に複数定義された「<code>value</code>」を含むメッセージを送る事で、ブロック内に記述されたメッセージ式を実行し結果を返す。
&lt;syntaxhighlight lang="smalltalk"&gt;
[                 　0               ] value.             "-&gt; 0"
[ :value1         | value1          ] value: 1.          "-&gt; 1"
[ :value1 :value2 | value1 + value2 ] value: 1 value: 1. "-&gt; 2"
&lt;/syntaxhighlight&gt;
ブロック内の<code>:value1 :value2</code>は引き数であり、「<code>|</code>」以降は「<code>value</code>」を含むメッセージが送られた際実行するメッセージ式である。「<code>value</code>」を複数ならべたセレクターは4個程度まで( <code>#value:value:value:value:</code> )しか定義されておらず。5個以上引き数を取る場合は、配列を引き数とする<code>#valueWithArguments:</code>を使う必要がある。メソッドが値を返す際は、復帰文の記述が必要となるがブロックの場合は値を返すのに復帰文は必要ない。最後に実行されたメッセージ送信の結果あるいは、最後に書かれた値が戻り値となる。ブロックは制御の基本となるオブジェクトであるため、「<code>value</code>」を含むメソッド以外にも膨大なメソッドを持っている。ただし、後述する他の制御構文はブロックに対し<code>#value</code>セレクターまたは、<code>#value:</code>セレクターを使ったメッセージしか送らない。
</p><p>ブロックには<code>value</code>と合わせてよく使われるセレクターとして「<code>cull</code>」がある。<code>cull</code>の振る舞いは、ほぼ<code>value</code>と同じであるが、ブロックがメッセージに含まれる引き数を無視できるという違いがある。
&lt;syntaxhighlight lang="smalltalk"&gt;
[ :value1 | value1 ] cull: 1 cull: 2. "-&gt; 1"
&lt;/syntaxhighlight&gt;
</p><p><code>cull</code>はブロックによる分岐制御が主目的であるが、分岐の基準になったオブジェクトを参照する場合もあるようなセレクターで使われる。典型的な例は、オブジェクトがnilで無いときだけブロックを実行する<code>#ifNotNil:</code>である。
&lt;syntaxhighlight lang="smalltalk"&gt;
| block value1 value2 |
</p><p>block := [ :value | value ].
</p><p>value1 := 1.
value2 := 2.
</p><p>value1 ifNotNil: [ 9 ]. "-&gt; 9"
value1 ifNotNil: block. "-&gt; 1"
value2 ifNotNil: block. "-&gt; 2"
</p><p>&lt;/syntaxhighlight&gt;
</p>
<h5><span id=".E6.9D.A1.E4.BB.B6.E5.88.86.E5.B2.90"></span><span class="mw-headline" id="条件分岐">条件分岐</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=32" title="節を編集: 条件分岐">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>条件分岐は <code>#ifTrue:ifFalse:</code> セレクターを用いたメッセージ式として、条件式の結果の真偽値へのメッセージ送信の形で次のように記述する。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
3 &lt; 4 ifTrue: [ 5 ] ifFalse: [ 6 ].
&lt;/syntaxhighlight&gt;
</p><p><span lang="en">Smalltalk</span> では <code>nil</code> がオブジェクトである。これを利用した <code>nil</code> 専用の条件式も存在する。
&lt;syntaxhighlight lang="smalltalk"&gt;
object := nil.
object ifNil: [ 5 ] ifNotNil: [ 6 ].
object ifNotNilDo: [ :value | value inspect. ].
&lt;/syntaxhighlight&gt;
</p><p>条件分岐の制御において、他の言語でいう<code>switch</code>に直接該当する文は存在しない。多態性を利用して分岐するか、次のように連想配列を利用して分岐するため不要である。
&lt;syntaxhighlight lang="smalltalk"&gt;
something: aNumber
	| switch |
</p><p>	"速度が求められる場合は、初期化済みのDictionaryのオブジェクトをインスタンス変数やクラス変数にキャッシュする。"
	switch := Dictionary
		new
		at: 1 put: [ #a ];
		at: 2 put: [ #b ];
		at: 3 put: [ #c ];
		yourself.
</p><p>	^ ( switch at: aNumber ifAbsent: [ #z ] ) value.
&lt;/syntaxhighlight&gt;
</p><p>但し一部の処理系では、次のような<code>switch</code>に類似した書き方ができるものも存在する。
&lt;syntaxhighlight lang="smalltalk"&gt;
something: aNumber
</p><p>	^ aNumber caseOf:
	{
		[ 1 ]-&gt;[ #a ].
		[ 2 ]-&gt;[ #b ].
		[ 3 ]-&gt;[ #c ].
	}.
&lt;/syntaxhighlight&gt;
</p>
<h5><span id=".E5.8F.8D.E5.BE.A9"></span><span class="mw-headline" id="反復">反復</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=33" title="節を編集: 反復">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>反復制御において<code>for</code> に直接該当する文は存在しない。代わりに回数を指定した反復がある。回数を指定した反復は、整数型へのメッセージ送信の形で次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<pre>"100回の反復処理を実行する"
</pre>
<p>100 timesRepeat:
[
	"反復実行する処理"
].
&lt;/syntaxhighlight&gt;
</p><p>現在の反復回数を参照しながら反復する事も出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<pre>"100回の反復処理を実行する"
</pre>
<p>1 to: 100 do:
[ :each |
	"eachは現在の反復回数"
].
&lt;/syntaxhighlight&gt;
</p><p><code>for</code>　に該当する文は存在しないものの、<code>while</code> に該当する文は存在する。<code>while</code> に該当する反復は、ブロックに対するメッセージ送信の形で次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
[ true "真偽値を返す式" ] whileTrue:
[
	"反復実行する処理"
].
&lt;/syntaxhighlight&gt;
<code>#whileTrue:</code> セレクターは、条件が真である間反復する事を意味している。逆に条件が偽である間反復する <code>#whileFalse:</code> というセレクターも存在する。
</p><p>また <code>do</code>-<code>while</code> に該当する文も存在する。<code>do</code>-<code>while</code> に該当する反復は、ブロックに対するメッセージ送信の形で次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
[
	"反復実行する処理"
	"このブロックの実行結果が真である間反復を繰り返す"
] whileTrue.
&lt;/syntaxhighlight&gt;
</p><p><span lang="en">Smalltalk</span> では条件なしの反復も存在する。無条件反復は、ブロックに対するメッセージ送信の形で次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
[
	"反復実行する処理"
] repeat.
&lt;/syntaxhighlight&gt;
</p><p><span lang="en">Smalltalk</span> では、反復方法が複数存在するが、実は全てメソッドの再帰呼び出しによって実装されているという事になっている。ただし、こちらも <code>#ifTrue:ifFalse</code> 同様実際にメソッドの再帰呼び出しとして実行されていない事が多い。
</p>
<h5><span id=".E5.8F.8D.E5.BE.A9.E3.81.8B.E3.82.89.E3.81.AE.E8.84.B1.E5.87.BA"></span><span class="mw-headline" id="反復からの脱出">反復からの脱出</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=34" title="節を編集: 反復からの脱出">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>C言語の <code>break</code> や <span lang="en">Perl</span> の <code>last</code> に相当する反復脱出は <code>thisContext</code> に対し <code>#return</code> セレクターを使ったメッセージを送る。
&lt;syntaxhighlight lang="smalltalk"&gt;
[
	thisContext return. "反復を抜ける"
] repeat.
&lt;/syntaxhighlight&gt;
<code>thisContext</code> には、引き数を取り、引き数を脱出するブロックの戻り値として返す <code>#return:</code> セレクターや、戻り先のメソッドを指定する <code>#return:to:</code> セレクターなど多数の <code>return</code> 系セレクターに対応するメソッドが定義されており、他の言語には珍しい多様な反復の脱出方法を備えている。
</p>
<h5><span id=".E4.BE.8B.E5.A4.96.E5.87.A6.E7.90.86.E6.A9.9F.E6.A7.8B"></span><span class="mw-headline" id="例外処理機構">例外処理機構</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=35" title="節を編集: 例外処理機構">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p><span lang="en">Smalltalk</span> にも例外処理機構が存在する。こちらも、その他の構文と同じくメッセージ式とブロックによって実現されている。例外処理は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
[
	[
		Exception signal: '処理失敗'. "例外発生"
	]
		ensure:
		[
			"例外の有無に関わらず実行したい処理"
		].
]
	on: Exception "補足する例外の種類"
	do:
	[ :exception |
		"例外を補足した際の処理"
	].
&lt;/syntaxhighlight&gt;
なお<code>#ensure:</code>は後述の<a href="/wiki/Smalltalk#ブロックによる資源の開放" title="Smalltalk">ブロックによる資源の開放</a>があるため多用されることはない。
</p><p>例外の制御はメッセージ送信毎に連結リストとして積み上げられたコンテキスト情報の末端のコンテキスト（メソッドスタック）を表す <code>thisContext</code> オブジェクトを操作し、コンテキストを巻き戻す事で実現されている。
複数の例外は、<code>#on:do:on:do</code>・・と<code>on:do:</code>を繰り返し(処理系が定義している限りの数で)記述して補足する事もできるが、次の様に例外の型を<code>,</code>で並べて補足する事も出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
[
	Notification signal: '接続準備完了'. 
]
	on: Error, Notification
	do:
	[ :exception |
		"エラーと通知両方の例外を1度に補足"
	].
&lt;/syntaxhighlight&gt;
なお、<span lang="en">Smalltalk</span>では正常な結果を返せないエラー(間違い)と通知両方を合わせたものが例外である。例外は正常な戻り値を返せない場合と割り込みの様に非同期な通知に利用される。
</p>
<h5><span id=".E4.B8.A6.E5.88.97.E5.87.A6.E7.90.86"></span><span class="mw-headline" id="並列処理">並列処理</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=36" title="節を編集: 並列処理">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p><span lang="en">Smalltalk</span>では、標準で並列処理が存在する。並列処理は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
| process semaphore |
</p><p>semaphore := Semaphore new.
process :=
[
	Process yield. "他のProcessに切り替える切り替え点"
	"並列実行される子処理"
</p><p>	semaphore signal. "親処理への終了通知"
] newProcess.
</p><p>process resume.	"子処理の起動。Blockに対し#forkを送る場合はnewProcessとresumeは省略できる"
"並列実行される親処理"
</p><p>semaphore wait. "子処理の終了待機"
&lt;/syntaxhighlight&gt;
並列処理はスレッドに類似するプロセスという仕組みにより実装されている。プロセスは<span lang="en">Smalltalk</span>環境内で構築された並列処理の仕組みであり、グリーンスレッドで実装されている事が多い。このため、プロセスは論理的に非<a href="/wiki/%E3%83%97%E3%83%AA%E3%82%A8%E3%83%B3%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3" title="プリエンプション">プリエンプティブ</a>なスレッド(<a href="/wiki/%E3%82%B0%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89" title="グリーンスレッド">グリーンスレッド</a>)を前提しており、現在実行している処理を切り替える切り替え点を必要とする。論理的な前提は非プリエンプティブではあるものの、POSIX環境で動作させたGNU Smalltalkの様に実際はプリエンプティブなスレッドで実装されている場合もある。<sup class="reference" id="cite_ref-27"><a href="#cite_note-27">[24]</a></sup>プロセスは他のプロセスから割り込みとして任意の例外を投げる機能があり(記述方法は環境によって異なる)、切り替え点はプリエンプティブなスレッドを使う場合でも例外の発生地点として機能する。
</p>
<h4><span id=".E3.82.AF.E3.83.A9.E3.82.B9.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.81.AE.E7.99.BB.E9.8C.B2"></span><span class="mw-headline" id="クラスオブジェクトの登録">クラスオブジェクトの登録</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=37" title="節を編集: クラスオブジェクトの登録">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> は、クラスの定義をメッセージ式による実行環境へのクラスオブジェクトの登録として実現する。他の言語と異なりクラスオブジェクトの登録は単なる定義ではなく実行環境に対する操作である。1度クラスオブジェクトを登録してイメージファイルを保存すると、明示的にクラスオブジェクトを削除しないかぎりはクラスオブジェクトがイメージファイルに残り続ける。<span lang="en">Smalltalk</span> 環境に対するクラスオブジェクトの登録は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
"DerivedクラスをSmalltalk環境に登録する例"
Object						"基底クラスオブジェクト"
	subclass:		        #Derived	"Objectクラスの派生として登録するクラスオブジェクト名の指定"
	instanceVariableNames:	'ia ib ic'	"インスタンス(実体)オブジェクトに所属する変数名(インスタンス変数)の指定(空白区切り)"
	classVariableNames:	    'ca cb cc'	"クラスオブジェクトと共有する変数名(クラス変数)の指定(空白区切り)"
	poolDictionaries:	    'pa pb pc'	"クラスに所属する変数(プール変数)を取り込む辞書の指定(空白区切り)"
	category:		        'example'.	"Smalltalk環境上でクラス名を表示する際にクラスが所属する分類の指定"
&lt;/syntaxhighlight&gt;
<code>poolDictionaries</code> と <code>category</code> を除いては、<span lang="en">C++</span> から派生した言語のクラス定義と概ね同じである。インスタンス変数はインスタンスメソッドのみから参照でき、クラス変数はクラスメソッドとインスタンスメソッドから参照できる。他の言語と異なりインスタンス変数をクラスメソッドから参照することはできない。
</p><p><span lang="en">Smalltalk</span> におけるクラスの作成は、特殊構文ではなく単なるメッセージ送信である。クラスを登録する際のメッセージは、上記の例のように次のセレクターを使用することが多い。
&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<ol><li>subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p>しかし、クラスの登録はあくまでメッセージであり自由に作れるため、実行環境には大抵その他のメソッドが用意されている。例えば、近代的な <span lang="en">Smalltalk</span> 環境の一つ <span lang="en">Pharo</span> では、次のセレクターに対応したメソッドが用意されている。
&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<ol><li>subclass:</li>
<li>subclass:category:</li>
<li>subclass:instanceVariableNames:</li>
<li>subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>subclass:uses:</li>
<li>subclass:uses:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableByteSubclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableByteSubclass:uses:ginstanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableSubclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableSubclass:uses:ginstanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableWordSubclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>variableWordSubclass:uses:ginstanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>weakSubclass:instanceVariableNames:classVariableNames:poolDictionaries:category:</li>
<li>weakSubclass:uses:ginstanceVariableNames:classVariableNames:poolDictionaries:category:</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p><br/>
クラスオブジェクトには、クラス変数とは別途、クラスオブジェクトが <code>Class</code> クラスから派生したインスタンスとして状態を持つためのインスタンス変数がある。このクラスオブジェクトのインスタンス変数はクラスオブジェクト内だけで共有され、インスタンスオブジェクトからは直接使用できない。
</p><p><span lang="en">Smalltalk</span> 環境に対するクラスオブジェクトのインスタンス変数の登録は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
Derived class instanceVariableNames: 'ia ib ic'. "クラスオブジェクトのインスタンス変数名(空白区切り)"
&lt;/syntaxhighlight&gt;クラスオブジェクトがもつインスタンス変数には変数を登録した基底クラスと派生クラスで別々の変数領域が確保されるという特筆すべき点がある。これを使用して下記の様にクラスに所属するオブジェクトだけを保持する変数としてつかったりする事ができる。&lt;syntaxhighlight lang="smalltalk"&gt;
Object subclass: #Super.
Super class instanceVariableNames: 'objects'.
</p><p>Super class methodsFor: 'accessing'
!
objects
</p>
<pre>   ^ objects ifNil: [ objects := OrderedCollection new ].
</pre>
<p>!!
</p><p>Super class methodsFor: 'instance creation'
!
new
</p>
<pre>   | object |
   
   object := super new.
   self objects add: object.
   ^ object.
</pre>
<p>!!
</p><p>Super subclass: #Derived. 
</p><p>Derived new.
Derived objects size. "-&gt; 1"
Super objects size. "-&gt; 0"
</p><p><br/>
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AE.E7.99.BB.E9.8C.B2"></span><span class="mw-headline" id="メソッドの登録">メソッドの登録</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=38" title="節を編集: メソッドの登録">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>メソッド（処理方法）の登録は、コード文字列を引数として与えたクラスへのメッセージ送信でも行えるが、通常は環境に組み込まれたクラスブラウザ（システムブラウザ）と呼ばれるGUIツールを用いる。
</p><p>メソッドは、「メッセージパターン」と呼ばれるメッセージ式のメッセージ部分を模した書式に続けて0個以上のメッセージ式を連ねることで記述する。例えば、前出の、レシーバーか引数を比べてより小さな方を返す「<code>min:</code>」というメソッドの登録は次のようなものになる。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
min: anOtherObject
	^ self &lt; anOtherObject ifTrue: [ self ] ifFalse: [ anOtherObject ].
&lt;/syntaxhighlight&gt;
</p><p>一行目の「<code>min: anOtherObject</code>」がメッセージパターンで、メソッド名（セレクター）と仮引数となる擬変数の宣言を兼ねる。念のためここでメソッド名は「min:」、仮引数となる擬変数名は「<code>anOtherObject</code>」である。メッセージパターンのあとに処理を続けて書くこともできるが、通常は行を改めて（さらに、ここでは省いたが慣習としてメソッドの説明をするコメントを書き、それに続けて）処理を記述する。
</p><p>なお、メッセージパターンのみで具体的な処理を記述せずにメソッドを登録した場合を含め、復帰文による明示的な戻り値の指定が無い場合、メソッドは戻り値として常に <code>self</code> を返す。したがって <span lang="en">Smalltalk</span> では値を返さないメソッドを書くことはできない。
</p>
<h4><span id=".E3.82.AF.E3.83.A9.E3.82.B9.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88"></span><span class="mw-headline" id="クラスオブジェクト">クラスオブジェクト</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=39" title="節を編集: クラスオブジェクト">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span>は、多くの動的型付け言語や<span lang="en">Delphi</span>の様にクラスがオブジェクトである。このため<span lang="en">Smalltalk</span>ではインスタンスオブジェクトと同様にクラスオブジェクトを変数に束縛してメッセージを送ることができる。
&lt;syntaxhighlight lang="smalltalk"&gt;
| object |
</p><p>object := Something new.
object value. "インスタンスオブジェクトにvalueメッセージを送信"
object := Something.
object value. "クラスオブジェクトにvalueメッセージを送信"
&lt;/syntaxhighlight&gt;
クラスオブジェクトは、オブジェクトに<code>class</code>メッセージを送ることでも取得できる。
&lt;syntaxhighlight lang="smalltalk"&gt;
' ' class. "-&gt; ByteString"
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E5.BE.A9.E5.B8.B0.E6.96.87.E3.81.A8.E3.83.96.E3.83.AD.E3.83.83.E3.82.AF"></span><span class="mw-headline" id="復帰文とブロック">復帰文とブロック</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=40" title="節を編集: 復帰文とブロック">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> のブロックは一種の制御構文であるという性質上、復帰文が他の言語と比べ極めて異質な振る舞いをする。
&lt;syntaxhighlight lang="smalltalk"&gt;
example
	| block |
</p><p>	block := [ ^ 1 ].
	block value. "ブロックを実行"
	^ 0.
&lt;/syntaxhighlight&gt;
上記のメソッドを登録したオブジェクトに<code>#example</code> セレクターを使ったメッセージを送ると結果としては何が返ってくるか。<span lang="en">Smalltalk</span> 以外の言語では <code>0</code> が返ってくるのが一般的であるが <span lang="en">Smalltalk</span> では <code>1</code> が返ってくる。<span lang="en">Smalltalk</span> はブロック内の復帰文からでもメソッド自体を抜けることができるようになっている。この例では、「<code>block value.</code>」を評価し、<code>block</code> 中の「<code>^ 1.</code>」で制御が戻ると <code>example</code> 自体も中断して結果を返す。そして <code>example</code> は戻り値として <code>block</code> が戻した <code>1</code> を戻すようになっている。
&lt;syntaxhighlight lang="smalltalk"&gt;
callee: aBlock
	aBlock value.
	^ 2.
&lt;/syntaxhighlight&gt;
&lt;syntaxhighlight lang="smalltalk"&gt;
caller
	| block |
</p><p>	block := [ ^ 1 ].
	self callee: block.
	^ 0.
&lt;/syntaxhighlight&gt;
上記の様なメソッドをまたいでブロックを評価する場合はどうなるだろうか、この場合も <span lang="en">Smalltalk</span> は <code>example</code> の戻り値として <code>block</code> の戻り値である1を返す。<span lang="en">Smalltalk</span> はブロック内で復帰文が実行された際、ブロックの生成地点の呼び出し元までコンテキストを巻き戻すようになっている。この特性により <span lang="en">Smalltalk</span> では、<code>#ifTrue:ifFalse:</code> セレクターを使った分岐でメソッドを中断したり <code>#repeat</code> セレクター等を使った反復処理を復帰文だけで中断する事ができるようになっている。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
exampleBlock
	^ [ ^ 1 ].
&lt;/syntaxhighlight&gt;
&lt;syntaxhighlight lang="smalltalk"&gt;
callee: aBlock
	aBlock value.
	^ 2.
&lt;/syntaxhighlight&gt;
&lt;syntaxhighlight lang="smalltalk"&gt;
caller
	| block |
</p><p>	block := self exampleBlock.
	self callee: block.
	^ 0.
&lt;/syntaxhighlight&gt;
ただし、上記の様にブロックを生成したコンテキストと、ブロックを評価する際のコンテキストが枝分かれする様な場合は復帰文を実行する事はできない。この場合は <code>BlockContext</code> が例外を出力し処理が停止してしまう。
</p>
<h4><span id=".E3.83.A1.E3.82.BD.E3.83.83.E3.83.89.E3.81.AB.E5.AF.BE.E3.81.99.E3.82.8B.E6.B3.A8.E9.87.88"></span><span class="mw-headline" id="メソッドに対する注釈">メソッドに対する注釈</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=41" title="節を編集: メソッドに対する注釈">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>メソッドに対する注釈(Pragma)は、メッセージ式だけではどうしても実現が難しい機械語でしか記述できない演算子の実装や主記憶領域の確保、仮想機械外部との入出力等の実現や、特定の目的のメソッドを自動で列挙するといった目的で使用される特殊構文である。いくつかの注釈はSmalltalk環境に組み込まれているが、利用者やライブラリーの提供者が注釈を定義する事も出来る。
</p><p>メソッドに対する注釈はメソッドの翻訳時に評価されるため、メソッドにしか記述でない。Behaviorの<code>evaluate:</code>による評価などメッセージ式をメソッドの外部で評価する場合は、評価対象の式に注釈を含める事はできない。具体的にはSmalltalk環境のWorkspaceに注釈を記述して評価するとエラーとなる。
</p><p>メソッドに対する注釈は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
&lt; keyword1: arg1 ... keywordN: argN &gt;
&lt;/syntaxhighlight&gt;
</p><p><code>&lt;</code>と<code>&gt;</code>で囲まれた範囲は、メッセージ式のメッセージ部分と同じになる。但し引き数を取らない注釈の記述はできない。
</p><p>次にメソッドに対する注釈の具体例を挙げる。注釈はSmalltalk環境によって異なり、どの環境でも次の注釈が使えるわけでない事に注意すること。
</p>
<table class="wikitable">
<tbody><tr>
<th>コード</th>
<th>意味
</th></tr>
<tr>
<td><code>&lt;primitive: 1&gt;</code></td>
<td>数値演算など原子的機能の呼び出し。引き数の値は呼び出す機能の番号。
</td></tr>
<tr>
<td><code>&lt;apicall: int 'GetLastError' () module: 'kernel32.dll'&gt;</code></td>
<td>FFIによる外部関数の呼び出し。先頭のapicallは呼び出し規約であり注釈の名前ではない。cdeclなどもある。
</td></tr></tbody></table>
<h4><span id=".E5.A4.A7.E5.9F.9F.E5.A4.89.E6.95.B0"></span><span class="mw-headline" id="大域変数">大域変数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=42" title="節を編集: 大域変数">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Smaltallkでは、Smalltalk環境全体で参照できる大域変数を作成する事が出来る。大域変数は同じく大域変数であるSmalltalk変数に格納された<code>SmalltalkImage</code>のインスタンスオブジェクトにメッセージを送って作成する。また、大域変数の削除も<code>SmalltalkImage</code>のインスタンスオブジェクトに対するメッセージ送信となっている。
&lt;syntaxhighlight lang="smalltalk"&gt;
Smalltalk at: #GlobalVariable put: 100.
GlobalVariable. "-&gt;100"
</p><p>globalVariable := 10.
Smalltalk at: #GlobalVariable. "-&gt;10"
</p><p>Smalltalk removeAt: #GlobalVariable.
GlobalVariable. "-&gt;nil"
&lt;/syntaxhighlight&gt;
<code>SmalltalkImage</code>は一種の連想配列であり、Smalltalkの大域変数は、Smalltalk変数を介す事で連想配列として操作する事が出来るようになっている。
なお、Smalltalkのクラス名と大域変数は同じものであり、クラス名にオブジェクトを代入すれば、そのクラスを破壊してしまうことが出来る。また、Smalltalkオブジェクトが格納されたSmalltlak変数もオブジェクトを代入し破壊する事が出来る。このように大域変数を代入により破壊してしまった場合は、最悪Smalltalk環境が起動しなくなる事態に陥り非常に危険である。このためSmalltalkではよほどの理由がなければ大域変数を使うべきではない。
</p>
<h4><span id=".E3.83.97.E3.83.BC.E3.83.AB.E8.BE.9E.E6.9B.B8"></span><span class="mw-headline" id="プール辞書">プール辞書</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=43" title="節を編集: プール辞書">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>プール辞書は、クラスの変数として連想配列または、他のクラスオブジェクトのクラス変数を取り込むという機能である。取り込む連想配列の要素やクラスオブジェクトのクラス変数はプール変数と呼ばれる。連想配列やクラスオブジェクトは大域変数でなくてはならない。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
"プール辞書で使用する連想配列の登録"
Smalltalk at: #UserPoolA put: Dictionary new.
UserPoolA at: #ExamplePoolValueA put: 1.
</p><p>"プール辞書で使用するクラスオブジェクトの登録"
Object
	subclass:		#UserPoolB
	instanceVariableNames:	<i></i>
	classVariableNames:	'ExamplePoolValueB'
	poolDictionaries:	<i></i>
	category:		'example'.
</p><p>"UserPoolAとUserPoolBをプール変数として利用するクラスオブジェクト"
Object
	subclass:		#Someone
	instanceVariableNames:	<i></i>
	classVariableNames:	<i></i>
	poolDictionaries:	'UserPoolA UserPoolB'	"UserPoolAとUserPoolBを辞書に記述しプール変数を取り込む"
	category:		'example'.
</p><p>Someone methodsFor: 'accessing'
!
valueA
	^ ExamplePoolValueA. "UserPoolAのExamplePoolValueAを参照"
!
valueB
</p><p>	^ ExamplePoolValueB. "UserPoolBのExamplePoolValueBを参照"
!!
&lt;/syntaxhighlight&gt;
プール辞書には複数の連想配列やクラスオブジェクトを指定できるが、プール変数が重複した場合は、先に指定した連想配列やクラスオブジェクトのプール変数が使われる。
</p>
<h3><span id=".E6.BA.96.E6.A8.99.E6.BA.96.E7.9A.84.E3.81.AA.E6.96.87.E6.B3.95"></span><span class="mw-headline" id="準標準的な文法">準標準的な文法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=44" title="節を編集: 準標準的な文法">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id=".E9.9D.9E.E5.AE.9A.E6.95.B0.E8.A6.81.E7.B4.A0.E9.85.8D.E5.88.97"></span><span class="mw-headline" id="非定数要素配列">非定数要素配列</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=45" title="節を編集: 非定数要素配列">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Pharo, GNU Smalltalkといった近代の環境では、定数以外に式の結果を指定可能な非定数要素の配列定数を使用できる。配列の要素は空白ではなく<code>.</code>で区切る。
&lt;syntaxhighlight lang="smalltalk"&gt;
array := { 1. 1 + 1 }. "1と2を要素に持つ配列を作る。"
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E7.B6.99.E7.B6.9A"></span><span class="mw-headline" id="継続">継続</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=46" title="節を編集: 継続">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>継続渡し形式を支援する機能として継続があり、PharoやGNU Smalltalkで使用できる。もっぱら反復の中断や、メソッド内の処理を飛ばすために使われる。継続の使用は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
result := Continuation currentDo:
[ :break |
</p><p>	aCondition1 ifTrue: [ break value: 1 ]. "aCondition1がtrueなら以降の処理を中断しresultに1を代入する。"
	aCondition2 ifTrue: [ break value: 2 ]. "aCondition2がtrueなら以降の処理を中断しresultに2を代入する。"
</p><p>	3 "aCondition1, aCondition2両方trueならresultに3を代入する。"
].
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E7.94.9F.E6.88.90.E5.99.A8"></span><span class="mw-headline" id="生成器">生成器</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=47" title="節を編集: 生成器">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>遅延評価を支援する機能として生成器があり、PharoやGNU Smalltalkで使用できる。生成器はCoroutineにも利用できる。生成器の使用は次の様に記述する。
&lt;syntaxhighlight lang="smalltalk"&gt;
stream := Generator on:
[ :each |
	each yield: 1.
	each yield: 2. "stream nextを1回呼ぶまで実行しない。"
	each yield: 3. "stream nextを2回呼ぶまで実行しない。"
].
</p><p>stream next. "-&gt; 1"
stream next. "-&gt; 2"
stream next. "-&gt; 3"
&lt;/syntaxhighlight&gt;
</p><p>生成器を使って処理を作ることは多くないが、配列などを使用する際、間接的に使用していることが多い。
&lt;syntaxhighlight lang="smalltalk"&gt;
| readStream grater2 total |
</p><p>readStream := #( 1 2 3 4 5 ) readStream. "#readStreamにより#select:を遅延実行する生成器が作られる。"
grater2 := ( ( readStream select: [ :each | 1 &lt; each ] ) collect: [ :each | each * 2 ] ) reject: [ :each | 8 &gt; each ].
total := grater2 inject: 0 into: [ :value :each | value + total ]. "#inject:into:でeachに代入するとき初めて#select:と#collect:と#reject:が実行される。"
&lt;/syntaxhighlight&gt;
</p>
<h3><span id=".E3.83.95.E3.82.A1.E3.82.A4.E3.83.AB.E7.94.A8.E6.A7.8B.E6.96.87"></span><span class="mw-headline" id="ファイル用構文">ファイル用構文</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=48" title="節を編集: ファイル用構文">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> のプログラムは基本的に中間言語としてイメージファイルの中に格納され、ソースコードの編集は <span lang="en">Smalltalk</span> のGUI環境から行われる。このため基本的にファイルという形で <span lang="en">Smalltalk</span> のソースコードやプログラムを目にすることはない。しかし、ソースコードの交換目的などでどうしても <span lang="en">Smalltalk</span> 環境外でソースコードを管理する必要がある場合に備えファイル用の構文が存在する。ファイル用の構文は次のようになる。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
Object
	subclass:		#Example
	instanceVariableNames:	<i></i>
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		'example'.
</p><p>Example methodsFor: 'Instance Methods A' 
!
selectorA1
	"処理"
	^ 0.
!
selectorA2: anArgument
	"処理"
	^ 0.
!!
</p><p>Example methodsFor: 'Instance Methods B'
!
selectorB1
	"処理"
	^ 0.
!
selectorB2: anArgument
	"処理"
	^ 0.
!!
</p><p>Example class methodsFor: 'Class Methods' 
!
selector1
	"処理"
	^ 0.
!
selector2: anArgument
	"処理"
	^ 0.
!!
&lt;/syntaxhighlight&gt;
本来他の言語の様なブロックが存在しないため、ブロックとして「<code>!</code>」が使用される。クラスの登録は「<code>!</code>」の一組で囲まれる。メソッドはプロトコル毎に「<code> クラス名 methodsFor: 'プロトコル' ! 〜 !!</code>」というブロックで囲まれる。一つのプロトコルには複数のメソッドを定義でき、メソッド同士は一個の「<code>!</code>」によって区切られる。
</p><p>ちなみに、クラス登録は単なるメッセージ送信であり特別な文ではないため、登録用ブロック外にも次のように単純なメッセージ送信の記述に使用する事が出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
Example methodsFor: 'Instance Methods A' 
!
selector1
!!
</p><p>'hello' displayNl.
'world' displayNl.
</p><p>Example2 methodsFor: 'Instance Methods A' 
!
selector
!!
</p><p>&lt;/syntaxhighlight&gt;
</p><p>ファイル用構文で記述されたメソッドの登録は、可読性や記述性の面からメッセージ式からかけ離れた変則的な構文が使用される。しかし、この変則的な構文を用いなければメソッドを登録できないわけではなく、次のように通常のメッセージ式でメソッドを登録する事も出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
Example
	compile:
		'
		selectorC: anArgument
			^ 0.
		'
	classified: 'Instance Methods C'.
&lt;/syntaxhighlight&gt;
上記では、クラスオブジェクト<code>Example</code>のプロトコル<code>Instance Methods C</code>に対し、メソッド<code>selectorC</code>を登録している。
</p>
<h3><span id=".E5.A7.94.E8.AD.B2.E3.81.A8.E7.B6.99.E6.89.BF"></span><span class="mw-headline" id="委譲と継承">委譲と継承</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=49" title="節を編集: 委譲と継承">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> において、継承とは特殊な委譲に過ぎない。
&lt;syntaxhighlight lang="smalltalk"&gt;
Object
	subclass:		#Derived	"DerivedはObjectクラスから派生させる"
	instanceVariableNames:	<i>		"オブジェクトに所属する変数は定義しない"</i>
	classVariableNames:	<i>		"クラスオブジェクトと共有する変数は定義しない"</i>
	poolDictionaries:	<i>		"クラスに所属する変数は定義しない"</i>
	category:		'example'.	"クラスの分類はexampleとする(今回の名前に意味はない)"
&lt;/syntaxhighlight&gt;
このため、例えば上記のクラスオブジェクトの生成では、<code>Derived</code> クラスオブジェクトの基底クラスオブジェクトとして <code>Object</code> を指定しているが、処理系によっては下記の様に <code>#superclass:</code> メッセージを送る事で、基底クラスに別のクラスオブジェクトを指定する事が出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
"superclass: NewBase. メッセージを送り基底クラスを NewBase に変更する事が出来る。"
Derived superclass: NewBase.
&lt;/syntaxhighlight&gt;
処理系により不可能な事もあるがクラスオブジェクトだけでなく、インスタンスオブジェクトから派生することも出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
"インスタンスオブジェクトの nil から派生した Derived クラスを Smalltalk 環境に登録する"
nil
	subclass:		#Derived
	instanceVariableNames:	<i></i>
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		'example'.
&lt;/syntaxhighlight&gt;
なお通常、派生元の基本となるProtoObjectやObjectはnilから派生しており継承関係は再帰的に循環している。
</p>
<h3><span id=".E3.83.A1.E3.83.83.E3.82.BB.E3.83.BC.E3.82.B8"></span><span class="mw-headline" id="メッセージ">メッセージ</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=50" title="節を編集: メッセージ">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> において、メッセージ、セレクター、メソッドはそれぞれ別物である。<span lang="en">C++</span> 系統の言語の様にオブジェクトに対しメッセージを送るという事は単なる比喩ではない。
</p><p>あるオブジェクトに対し <code>#hello</code> というセレクターを使ったメッセージを送る事を考える。この時、<span lang="en">Smalltalk</span> においては <code>hello</code> というメソッドが必ず呼ばれる保証はない。例えば「hello」メッセージを受け取るオブジェクトが <code>hello</code> メソッドを実装していなければレシーバーに指定されたオブジェクトの <code>doesNotUnderstand:</code> メソッドが呼ばれる事になる。
</p><p>なお、多くの <span lang="en">Smalltalk</span> の処理系では <code>doesNotUnderstand:</code> の引き数で得られたメッセージを返すだけのクラスが用意されている。例えば <span lang="en">Smalltalk</span> 環境のひとつである <span lang="en">Pharo</span> ではメッセージ作成用クラス <code>MessageCatcher</code> が用意されており<sup class="reference" id="cite_ref-28"><a href="#cite_note-28">[25]</a></sup>次のようにメッセージを拾い、他のオブジェクトに渡すことが出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
message := MessageCatcher new show: 'text'. "「show: 'text'」がmessageに代入される。"
message sendTo: Transcript. "「Transcript show: 'text'」が実行される。"
&lt;/syntaxhighlight&gt;
</p><p>また、セレクターとメソッドが独立していることを利用して一つのメソッドを複数のセレクターに結びつける事もできる。
&lt;syntaxhighlight lang="smalltalk"&gt;
"#onClick:を使ったメッセージをopen:メソッドに転送させる。"
FileEventHandler
	addSelector:	#onClick:
	withMethod:	FileEventHandler &gt;&gt; #open:.
&lt;/syntaxhighlight&gt;
</p>
<div class="rellink" style="margin-bottom: 0.5em; padding-left: 2em; font-style: italic;">「<a href="/wiki/%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E8%BB%A2%E9%80%81" title="メッセージ転送">メッセージ転送</a>」も参照</div>
<p>メッセージにはセレクターと引き数が含まれている。このため受け取ったセレクターと引き数を編集する事も出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
message := MessageCatcher
	new
		bold: true
		text: 'example'.
</p><p>message selector keywords keysAndValuesDo:
[ :key :each |
</p>
<pre>       Transcript
               show: each, ':=', ( message arguments at: key ) printString;
               cr.
</pre>
<p>].
"
以下が出力される。
</p><p>bold:=true
text:=example
"
</p><p>&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E5.9E.8B.E4.BB.98.E3.81.91"></span><span class="mw-headline" id="型付け">型付け</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=51" title="節を編集: 型付け">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>プログラミング言語一般の概念として型検査をソースコードの翻訳時に実行するか、実行時に実行するかにより<a href="/wiki/%E5%9E%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0" title="型システム">静的型付け</a>と<a href="/wiki/%E5%9E%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0" title="型システム">動的型付け</a>という区分が存在するが、<span lang="en">Smalltalk</span>は、そのどちらでもなく型なし言語（<a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">untyped</span>）に区分される<sup class="reference" id="cite_ref-29"><a href="#cite_note-29">[26]</a></sup>。<span lang="en">Smalltalk</span> の場合、変数に対する操作は全てメッセージ送信であり、変数の種類(型)毎にできる操作は決まっていない。また、オブジェクトに対しメッセージを送った場合、そのオブジェクトがメッセージに対応するメソッドを持っていなくとも実行環境がエラーを発生させる事はない。メッセージに対応するメソッドが存在しない場合、例外を出すか無視するかは、クラスに実装されたメソッドの内容次第である。したがって <span lang="en">Smalltalk</span> には型付けの概念はない。例えば、<span lang="en">Pharo</span> の <code>MessageCatcher</code> は全てのメッセージを拾うため、どんなメッセージを与えられても例外が発生することはない。また、GNU Smalltalkではnilから派生したクラスのオブジェクトに存在しないメソッドに対するメッセージを送ると何も反応しない。ただし高速化のため後述の特殊セレクターを使用した場合実行時に型検査する処理系が多い。ちなみに <span lang="en">Smalltalk</span> は基本的に中間言語に翻訳され、翻訳時にエラーを発生させるため構文検査は静的である。
</p>
<h4><span id=".E3.83.A1.E3.83.83.E3.82.BB.E3.83.BC.E3.82.B8.E3.81.A8.E5.88.B6.E5.BE.A1.E6.A7.8B.E6.96.87"></span><span class="mw-headline" id="メッセージと制御構文">メッセージと制御構文</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=52" title="節を編集: メッセージと制御構文">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>制御構文の節で述べた通り、<span lang="en">Smalltalk</span>の殆どの制御構文はメッセージ式である。<span lang="en">Smalltalk</span>に明るくないプログラマーからは言い方や見方を変えただけと捉えられがちである。<span lang="en">Smalltalk</span>の制御構文は実際にメッセージであるがゆえに究極には制御構文の構文要素を次のように変数に分解してしまうことが出来る。
</p><p>変数に分解した分岐制御の例：
&lt;syntaxhighlight lang="smalltalk"&gt;
| then else message condition |
</p><p>then := [ 1 ].
else := [ 2 ].
</p><p>message := MessageCatcher
	new
		ifTrue:  then
		ifFalse: else.
</p><p>condition := 2 = 2.
^ message sendTo: condition. 
&lt;/syntaxhighlight&gt;
これらの変数に分解された構文要素は、どのクラスのオブジェクトで無いといけないという制限はない。送られたメッセージを処理することさえ出来ればあらゆるオブジェクトに置き換える事が出来る。
</p>
<h4><span id=".E7.89.B9.E6.AE.8A.E3.82.BB.E3.83.AC.E3.82.AF.E3.82.BF.E3.83.BC"></span><span class="mw-headline" id="特殊セレクター">特殊セレクター</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=53" title="節を編集: 特殊セレクター">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Smalltalkでは高速化のためいくつかのメッセージを特別扱いする。これを特殊セレクター（<a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">special selector</span>）という。
典型的な例は<code>#ifTrue:ifFalse:</code>である。下記のコードはでは「ifTrue: [5] ifFalse: [6]」を評価した時にメッセージが送られる訳ではなく、バイトコードレベルでインライン展開され飛越し命令の表現に置き換えられる。このため実際に<code>ifTrue:ifFalse:</code> という名のメソッドが呼ばれることもない。また、trueやfalse以外に上記のようなBoolean用のメッセージを送ると処理系によってはMustBeBoolean例外を発生させる。このように頻繁に使用する分岐や反復を特別扱いすることで性能低下を防いでいる。
&lt;syntaxhighlight lang="smalltalk"&gt;
3 &lt; 4 ifTrue: [ 5 ] ifFalse: [ 6 ].
&lt;/syntaxhighlight&gt;
</p><p>セレクターと名がつくが特殊セレクターは、特別扱いする条件が引数の状態を含んでおり、たとえ同じセレクターを使ったメッセージでも引数が条件に一致しなければ特別扱いしない。例えば下記のように引数に直接ブロックを指定していない場合では多くの処理系(VisualWorks, GNU Smalltalk等)は特別扱いせずメッセージ送信を実行する。
&lt;syntaxhighlight lang="smalltalk"&gt;
| then else |
then := [ 5 ].
else := [ 6 ].
true ifTrue: then ifFalse: else.
&lt;/syntaxhighlight&gt;
</p><p>特殊セレクターはあくまで高速化の手段であるため種類は処理系によって異る。どの処理系が何を特殊セレクターとして扱うかは処理系ごとに提供される説明資料に記述されている。<sup class="reference" id="cite_ref-30"><a href="#cite_note-30">[27]</a></sup><sup class="reference" id="cite_ref-31"><a href="#cite_note-31">[28]</a></sup>
</p>
<h3><span id=".E3.82.AF.E3.83.A9.E3.82.B9.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.81.A8Metaclass"></span><span class="mw-headline" id="クラスオブジェクトとMetaclass">クラスオブジェクトとMetaclass</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=54" title="節を編集: クラスオブジェクトとMetaclass">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>クラスオブジェクトもオブジェクトであるため、所属するクラスが存在している。クラスオブジェクトが所属するクラスは<code>Metaclass</code>というクラスのインスタンスオブジェクトである。
&lt;syntaxhighlight lang="smalltalk"&gt;
ByteString.                   "-&gt; ByteString"
ByteString class.             "-&gt; ByteString class"
ByteString class class.       "-&gt; Metaclass"
&lt;/syntaxhighlight&gt;
</p><p><code>Metaclass</code>も当然ながらクラスに所属しており、再帰的に<code>Metaclass</code>に属するようになっている。
&lt;syntaxhighlight lang="smalltalk"&gt;
' ' class.                               "-&gt; ByteString"
' ' class class.                         "-&gt; ByteString class"
' ' class class class.                   "-&gt; Metaclass"
' ' class class class class.             "-&gt; Metaclass class"
' ' class class class class class.       "-&gt; Metaclass"
' ' class class class class class class. "-&gt; Metaclass class"
&lt;/syntaxhighlight&gt;
</p><p>クラスオブジェクトが所属する<code>Metaclass</code>のインスタンスオブジェクトは特殊なオブジェクトであり、クラスの継承階層と同様に継承階層を持っている。
&lt;syntaxhighlight lang="smalltalk"&gt;
Collection  class superclass. "-&gt; Object class"
Object      class superclass. "-&gt; ProtoObject class"
ProtoObject class superclass. "-&gt; Class"
&lt;/syntaxhighlight&gt;
</p><p>クラスオブジェクトはMetaclassから生成された単なるオブジェクトで有ることから、Smalltalkが標準で提供するクラスオブジェクトとは異なる独自の構造をもったクラスオブジェクトを作ることができる。
</p><p>例えば以下のようにメソッドの変わりにブロックを持つ無名クラスを作成することも出来る。
&lt;syntaxhighlight lang="smalltalk"&gt;
| class object |
</p><p>"Metaclassからクラスオブジェクトを生成"
class :=
	Class 
		new
			superclass: Object;
			methodDictionary: MethodDictionary new.
</p><p>"生成したクラスオブジェクトのセレクターにメソッドではなくブロックを紐付け"
class
	methodDictionary
		add:	#something1: -&gt; [ :value | value ] block;
		add:	#something2 -&gt; [ 2 ] block.
</p><p>"生成したクラスオブジェクトをインスタンスオブジェクトの生成に使用"
object := class new.
</p><p>Transcript
	show: ( object something1: 1 ) printString;
	nl.
</p><p>"生成したクラスオブジェクトを基底クラスとして使用"
class
	subclass:		#Example
	instanceVariableNames:	<i></i>
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		<i>.</i>
&lt;/syntaxhighlight&gt;
</p>
<h3><span id=".E5.AE.9A.E6.95.B0.E3.81.A8.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88"></span><span class="mw-headline" id="定数とオブジェクト">定数とオブジェクト</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=55" title="節を編集: 定数とオブジェクト">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>文法の節で述べた通り<span lang="en">Smallatalk</span>では定数も全てオブジェクトである。どんな定数であれ<code>#class</code>や<code>#inspect</code>といった基本的なセレクターを使ったメッセージを受け取ることが出来るため、基本的な操作であれば定数と他のオブジェクトを区別する必要はない。
&lt;syntaxhighlight lang="smalltalk"&gt;
| showClass |
</p><p>showClass :=
[ :object |
	Transcript
		show: object class name;
		cr.
].
</p><p>showClass
	value: Object new; "-&gt; Object"
	value: Object;     "-&gt; Object class"
	value: nil;        "-&gt; UndefinedObject"
	value: 0;          "-&gt; SmallInteger"
	value: 0.0;        "-&gt; Float"
	value: 0.0e1;      "-&gt; Float"
	value: $0;         "-&gt; Character"
	value: <i>;         "-&gt; ByteString"</i>
	value: #a;         "-&gt; ByteSymbol"
	value: #'a';       "-&gt; ByteSymbol"
	value: #();        "-&gt; Array"
	value: [].         "-&gt; BlockClosure"
&lt;/syntaxhighlight&gt;
</p>
<h3><span id=".E5.8F.AF.E5.A4.89.E9.95.B7.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88"></span><span class="mw-headline" id="可変長オブジェクト">可変長オブジェクト</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=56" title="節を編集: 可変長オブジェクト">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> は、任意の広さで確保した領域を持つ可変長オブジェクトを作ることが出来る。<span lang="en">Smalltalk</span>には配列を表わすためArray等が存在するが、これらのクラスオブジェクトは可変長オブジェクトを使って構築されている。可変長オブジェクトの領域は、オブジェクトの生成したときの一度だけしか広さを指定できない。また、クラスオブジェクトの登録時に<code>variable〜</code>で始まるセレクターを使っている必要がある。
&lt;syntaxhighlight lang="smalltalk"&gt;
Object
	variableSubclass:	#ExampleArray
	instanceVariableNames:	<i></i>
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		'example'.
</p><p>| array |
</p><p>array := ExampleArray new: 100.	"要素100個分の領域を確保した可変長オブジェクトを生成する。"
array at: 1 put: 0.		"1番目の要素に0を入れる。"
array at: 1.			"1番目の要素を取り出す。"
&lt;/syntaxhighlight&gt;
</p>
<h3><span id=".E8.A8.98.E6.86.B6.E9.A0.98.E5.9F.9F.E3.81.AE.E7.AE.A1.E7.90.86"></span><span class="mw-headline" id="記憶領域の管理">記憶領域の管理</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=57" title="節を編集: 記憶領域の管理">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span lang="en">Smalltalk</span> は、ハンドルとごみ回収機能(<a class="mw-redirect" href="/wiki/%E3%82%AC%E3%83%99%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%BF" title="ガベージコレクタ">ガーベッジコレクター</a>)の全面的な導入によりハンドルテーブルの書き換えを利用した特殊な制御を提供している。<sup class="reference" id="cite_ref-32"><a href="#cite_note-32">[29]</a></sup>
</p>
<h4><span id=".E3.83.8F.E3.83.B3.E3.83.89.E3.83.AB.E3.83.86.E3.83.BC.E3.83.96.E3.83.AB.E3.81.AE.E6.9B.B8.E3.81.8D.E6.8F.9B.E3.81.88.5B30.5D"></span><span class="mw-headline" id="ハンドルテーブルの書き換え[30]">ハンドルテーブルの書き換え<sup class="reference" id="cite_ref-33"><a href="#cite_note-33">[30]</a></sup></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=58" title="節を編集: ハンドルテーブルの書き換え[30]">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>ハンドルが参照している記憶領域上のテーブルを書き換えることにより<span lang="en">Smalltalk</span>は、あるオブジェクトを参照している全ハンドルの参照先を一気に変更することができる。ハンドルテーブルの書き換えには<code>#become:</code>を用いる。ただし、数字や文字列といった定数オブジェクトは置き換えることはできず、定数を置き換える際は定数を保持しているオブジェクトを置き換える必要がある。
&lt;syntaxhighlight lang="smalltalk"&gt;
| value1 value2 |
</p><p>value1 := 'hello' asValue.
value2 := value1. "この時点ではvalue2はValueHolder('hello')"
value1 become: 'こんにちは' asValue. "この時点でvalue2はValueHolder('こんにちは')になる"
&lt;/syntaxhighlight&gt;<code>#become:</code>を使っている良い例はクラスオブジェクトの再登録である。Smalltalkではクラスオブジェクトはインスタンスオブジェクトが生きている間でも再登録可能でなければならず、インスタンスオブジェクトを生きたままクラスオブジェクトを再登録するために使われている。
</p>
<h4><span id=".E5.BC.B1.E5.8F.82.E7.85.A7"></span><span class="mw-headline" id="弱参照">弱参照</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=59" title="節を編集: 弱参照">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>弱参照は<a href="/wiki/%E5%8F%82%E7%85%A7%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88" title="参照カウント">参照カウント</a>方式を使う言語でよくライブラリーとして実装されるが<span lang="en">Smalltalk</span>ではハンドルの制御を用いた言語機能として用意されており相互参照しているが不要になっているオブジェクトを迅速に解放するために使われている。弱参照には<code>#makeWeak</code>を用い、<code>#makeWeak</code>を受け取ったオブジェクトは弱参照となる。
&lt;syntaxhighlight lang="smalltalk"&gt;
| holder object |
holder := ValueHolder new.
holder makeWeak. "holderが弱参照になる。"
object := Object new.
holder value: object.
ObjectMemory compact. "ごみ回収。この時点ではholder valueはnilではない。" 
object := nil.  
ObjectMemory compact. "ごみ回収。この時点でholder valueはnilとなる。"
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E3.82.AB.E3.82.B2.E3.83.AD.E3.82.A6.28.E8.9C.89.E8.9D.A3.29"></span><span class="mw-headline" id="カゲロウ(蜉蝣)">カゲロウ(蜉蝣)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=60" title="節を編集: カゲロウ(蜉蝣)">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>カゲロウ(<span lang="en">Ephemeron</span>)は、どこからも参照されなくなった連想配列の要素を解放するために導入された記憶領域の管理機構でありSmalltalkで初めて実装された。例えば連想配列の添字として#keyがあったとして、#keyが連想配列以外の変数で参照されていなければ連想配列の要素は必要ない。このように不要となった要素を解放するために用いる。オブジェクトをカゲロウ状態にするには<code>#makeEphemeron</code>を用いる。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
| association key |
key := Object new.
association :=
	Association
		key: key
		value: Object new.
association makeEphemeron. "associationがカゲロウになる。"
ObjectMemory compact. "ごみ回収。この時点ではassociation keyとassociation valueは共にnilではない。" 
key := nil.
ObjectMemory compact. "ごみ回収。この時点ではassociation keyとassociation valueは共にnilとなる。" 
&lt;/syntaxhighlight&gt;
ここでは連想配列の要素としてよく使われるAssociationを例としているが、カゲロウが消滅する基準は最初のインスタンス変数でクラスに依存しないためどんなクラスでもカゲロウにすることができる。
</p>
<h3><span id="Smalltalk_.E3.81.AE.E6.85.A3.E7.BF.92"></span><span class="mw-headline" id="Smalltalk_の慣習"><span lang="en">Smalltalk</span> の慣習</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=61" title="節を編集: Smalltalk の慣習">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id=".E5.A4.A7.E6.96.87.E5.AD.97.E3.81.8B.E3.82.89.E3.81.AF.E3.81.98.E3.82.81.E3.82.8B.E8.AD.98.E5.88.A5.E5.AD.90.E3.81.A8.E5.B0.8F.E6.96.87.E5.AD.97.E3.81.8B.E3.82.89.E3.81.AF.E3.81.98.E3.82.81.E3.82.8B.E8.AD.98.E5.88.A5.E5.AD.90"></span><span class="mw-headline" id="大文字からはじめる識別子と小文字からはじめる識別子">大文字からはじめる識別子と小文字からはじめる識別子</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=62" title="節を編集: 大文字からはじめる識別子と小文字からはじめる識別子">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span id=".E5.A4.89.E6.95.B0.E5.90.8D"></span><span class="mw-headline" id="変数名">変数名</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=63" title="節を編集: 変数名">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>変数を表す識別子については、1文字目に大文字と小文字のどちらを使うか、大域変数か否かを基準にして決めることが慣習になっている。
環境自体も大文字小文字の使い分けを認識しておりメソッドを翻訳する際小文字の変数は局所変数かメンバーとして定義していないと、警告が発生したり翻訳失敗になる。
</p>
<table class="wikitable">
<tbody><tr>
<td>大域変数</td>
<td>大文字からはじめる
</td></tr>
<tr>
<td>大域変数以外(局所変数等)</td>
<td>小文字からはじめる
</td></tr></tbody></table>
<p>クラス名が大文字から始まるのは、クラス名が大域変数だからである。
</p><p>よく使われるクラス以外の大域変数:
</p>
<ul><li>Smalltalk</li>
<li>Processor</li>
<li>Transcript</li></ul>
<h5><span id=".E3.82.BB.E3.83.AC.E3.82.AF.E3.82.BF.E3.83.BC"></span><span class="mw-headline" id="セレクター">セレクター</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=64" title="節を編集: セレクター">編集</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>セレクターを表す識別子については、基本的に1文字目に小文字を使うが、メソッドが存在するセレクターを避けたい場合は大文字を使う事が慣習になっている。
GNU SmalltakやVisualWorksで用意されている名前空間は、大文字のセレクターを使う典型的な例である。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
Smalltalk SystemExceptions InvalidValue signalOn: 0. "「Smalltalk」以外は全てセレクター"
&lt;/syntaxhighlight&gt;
</p><p>なお、名前空間が使える環境の多くは、翻訳時に名前空間の名前解決できる「.」区切りの拡張構文が用意されており、実際にはこちらの構文が使われることが多いため、セレクターを使った名前空間の指定を見る機会は少ない。
</p>
<h4><span id=".E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.81.AE.E7.94.9F.E6.88.90.E3.81.A8.E5.88.9D.E6.9C.9F.E5.8C.96"></span><span class="mw-headline" id="オブジェクトの生成と初期化">オブジェクトの生成と初期化</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=65" title="節を編集: オブジェクトの生成と初期化">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>オブジェクトの生成には <code>#new</code> セレクターを使ったメッセージを使う。他の言語と違い、<code>new</code> は演算子ではない。
&lt;syntaxhighlight lang="smalltalk"&gt;
|object|
</p><p>object := Example new. "Exampleクラスオブジェクトに「new」メッセージを送りオブジェクトを生成。"
&lt;/syntaxhighlight&gt;
<span lang="en">Smalltalk</span> ではクラスオブジェクトのメソッドもインスタンスオブジェクトのメソッドと同様に派生クラスによる再定義が可能である。このため <code>new</code> メソッドを再定義し初期化処理を記載する事が出来る。<code>new</code> メソッドを再定義してしまうとオブジェクトの生成自体が不可能になるように思われるが、本来 <code>new</code> メソッドは <code>#basicNew</code> セレクターを使ったメッセージを<code>Behavior</code> に送ってオブジェクトを生成しているためオブジェクトの生成手段がなくなるわけではない。このため <code>new</code> メソッドを再定義しても 「basicNew」メッセージを<code>Behavior</code>に送ることでインスタンスオブジェクト生成することが出来る。
</p><p>ただし、実際の初期化に <code>new</code> メソッドが使われる事は多くない。実際には慣習としてクラスの作者が新たに登録した<b>インスタンス・クリエイション</b>と呼ばれる <code>new</code> とは別の初期化用メソッドが使用される。インスタンス・クリエイションは一般的なクラスオブジェクトのメソッドであり、そのメソッドの内部で 「<code>new</code>」メッセージやその他のインスタンス・クリエイションを使って初期化済みのオブジェクトを生成する役割を持っているだけで基本的にその他のメソッドと変わらない。一般的に<code>instance creation</code>というプロトコルに登録される。
&lt;syntaxhighlight lang="smalltalk"&gt;
| number |
</p><p>number := Number readFrom: '10'. "readFrom:がインスタンス・クリエイション".
&lt;/syntaxhighlight&gt;
<span lang="en">Smalltalk</span> では1個のセレクターに対し1個のオブジェクトから複数のメソッドを関連付けられない<sup class="reference" id="cite_ref-34"><a href="#cite_note-34">[注釈 4]</a></sup>ため 「<code>new</code>」メッセージの送信によりできる初期化は1個のオブジェクトにつき一通りの初期化だけである。このため複数のインスタンス・クリエイションを用意することで用途に応じた複数の初期化方法を提供しているのである。インスタンス・クリエイションは一般的なメソッドのひとつでしかない。このためインスタンス・クリエイション持つクラスオブジェクトは<a href="/wiki/Abstract_Factory_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3" title="Abstract Factory パターン">アブストラクト・ファクトリー</a>として機能する。
</p><p>具体的には次のように使われる。
&lt;syntaxhighlight lang="smalltalk"&gt;
defaultDatabase
	"既定のデータベースのクラスオブジェクトを定義した派生クラスで再定義可能なメソッド。
	 オーバーライドされた際は、必ずしもクラスオブジェクトが返されるとは限らず、インスタンス
	 オブジェクトが返される場合もある。"
	^ PostgreSQL.
&lt;/syntaxhighlight&gt;
&lt;syntaxhighlight lang="smalltalk"&gt;
database
	"databaseへの接続を返すメソッド。
	 defaultDatabaseにより返されたPostgreSQLに対し、インスタンス・クリエイションである
	 #connect:セレクターを使ったメッセージが送られ、PostgreSQLのインスタンスオブジェクトが生成される。
	 ただし、defaultDatabaseは、派生クラスによって再定義できるため、#connect:セレクターを使ったメッセージが
	 必ずしもPostgreSQLクラスオブジェクトに送られるとは限らない。"
	^ self defaultDatabase connect: self configuration.
&lt;/syntaxhighlight&gt;
</p><p>また、<span lang="en">Smalltalk</span> はクラスメソッドを上書きできるため、インスタンス・クリエイションを次の様に実装する事で基本的な初期化処理を派生元のクラスに任せることができる。
&lt;syntaxhighlight lang="smalltalk"&gt;
x: aX y: aY
	^ self new
		x: aX;
		y: aY.
&lt;/syntaxhighlight&gt;
上記は、2次元座標用のクラスオブジェクトのインスタンスオブジェクトを初期化する派生元のクラスオブジェクトに実装されたインスタンス・クリエイションである。このクラスオブジェクトを継承した2次元座標用のクラスオブジェクトでは<code>#x:y:</code>セレクターを使ったメッセージに対応するメソッドを実装する必要はない。インスタンス・クリエイションを利用したパターンは <span lang="en">Smalltalk</span> では広く利用され、いたる所で見ることが出来る。
</p>
<h4><span id=".E3.82.A2.E3.82.AF.E3.82.BB.E3.83.83.E3.82.B5.E3.83.BC"></span><span class="mw-headline" id="アクセッサー">アクセッサー</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=66" title="節を編集: アクセッサー">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> では、単一の値を出し入れするメッセージの事を特にアクセッサ―<sup class="reference" id="cite_ref-35"><a href="#cite_note-35">[注釈 5]</a></sup>と呼ぶ。引き数の有無により値の入出の方向を区別する。
</p><p>例：
</p>
<table class="wikitable">
<tbody><tr>
<th>コード</th>
<th>意味
</th></tr>
<tr>
<td><code>object value.</code></td>
<td>オブジェクトから値を取得する
</td></tr>
<tr>
<td><code>object value: 10.</code></td>
<td>オブジェクトに値を渡す
</td></tr></tbody></table>
<p><span lang="en">Smalltalk</span> においてアクセッサーはその他のメソッドと役割に違いはなく特別な意味を持たないが、プロトコルとして明示的に <ruby style="ruby-position:inline; display:inline"><rb style="display:inline; white-space:normal; font-variant-east-asian:normal"><code>accessing</code></rb><span class="rp">（</span><rt style="display:inline; white-space:normal; font-size:inherit; font-variant-east-asian:normal">アクセッシング</rt><span class="rp">）</span></ruby>として登録される点が特徴的である。
</p><p><span lang="en">Smalltalk</span> においてアクセッサーはインスタンス変数の出し入れや、クラス変数の単純な出し入れに使用される事は多くない。<span lang="en">Smalltalk</span> においてアクセッサーは次の用途でよく使われる。
</p>
<table class="wikitable">
<tbody><tr>
<th>目的</th>
<th>詳細
</th></tr>
<tr>
<td nowrap="">インスタンス変数やクラス変数の初期化</td>
<td>インスタンス変数やクラス変数からの値の取得時にインスタンス変数やクラス変数が <code>nil</code> であればそれらの変数を初期化する。
</td></tr>
<tr>
<td nowrap="">使用するクラス・オブジェクトの抽象化</td>
<td>クラス・オブジェクトあるいはファクトリーオブジェクトを取得できるアクセッサ―を用意し、アクセッサ―を派生クラスでオーバーライドする事で派生クラスからオブジェクトの生成に使うクラス・オブジェクトを自由に切り替えられるようにする。
</td></tr>
<tr>
<td nowrap="">保管場所の抽象化</td>
<td>オブジェクトが、インスタンス・クラス・プールのどこで管理されているかを抽象化する意味がある。例えばクラス変数やプール辞書の操作では、クラス変数やプール辞書の操作目的であってもインスタンスオブジェクトのメソッドとしてアクセッサーを用意する。
</td></tr>
<tr>
<td nowrap="">インスタンス変数やクラス変数に対する委譲</td>
<td>インスタンス変数やクラス変数に対しメッセージを送るアクセッサ―を定義し、複数の箇所でインスタンス変数やクラス変数に対する同じメッセージ送信をしないようにする。これにより<code>self object value value: 1.</code>というような複雑なメッセージを<code>self value: 1.</code>というメッセージに単純化する。
</td></tr></tbody></table>
<h4><span id=".E5.AE.9A.E6.95.B0"></span><span class="mw-headline" id="定数">定数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=67" title="節を編集: 定数">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>定数は、単に定数を返すアクセッサ―で定義する。C言語の影響を受けた言語のように定数を#defineや変数で定義するという慣習はない。
</p>
<h4><span id=".E9.99.84.E5.B8.AF.E6.83.85.E5.A0.B1"></span><span class="mw-headline" id="附帯情報">附帯情報</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=68" title="節を編集: 附帯情報">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> では、非常に利用頻度の低いインスタンス変数やクラス変数を管理する方法として附帯情報（<a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">property</span>）というパターンが使用される。附帯情報はインスタンス変数やクラス変数などの内部変数の代わりに連想配列によりオブジェクトを保持する仕組みである。
</p><p>附帯情報の使用例：
&lt;syntaxhighlight lang="smalltalk"&gt;
Tag methodsFor: 'accessing'
!
id
	^ self valueOfProperty: #id.
!
id: aString
	self setProperty: #id toValue: aString.
!!
&lt;/syntaxhighlight&gt;
附帯情報が有効な身近な例としては<a href="/wiki/Extensible_Markup_Language" title="Extensible Markup Language">XML</a>や<a href="/wiki/HyperText_Markup_Language" title="HyperText Markup Language">HTML</a>のタグ属性が挙げられる。例えばHTMLの <code>id</code> 属性や <code>onClick</code> といったイベント属性は、必ずしも全てのタグで使用されることはない。特にイベント属性については一つのHTML上に一切記述されない事もよくある。この様な使用頻度の低い属性のためにオブジェクトに一個一個変数を定義するのは記憶領域の無駄である。ましてや <code>onClick</code>、<code>onMouseDown</code>、<code>onMouseUp</code>等大量に属性があればこの無駄は馬鹿にならない。この様な無駄を省くために <span lang="en">Smalltalk</span> では附帯情報というパターンがよく使用される。
</p><p>全てのインスタンス変数やクラス変数は原理的に全て附帯情報によって表現することが出来る。この点に着目しオブジェクトに所属する変数を全て附帯情報に置き換えた言語が後の <span lang="en"><a href="/wiki/Self" title="Self">Self</a></span> であり、<span lang="en"><a href="/wiki/JavaScript" title="JavaScript">JavaScript</a></span> である。これらの言語でオブジェクトに所属する変数をプロパティーと表現するのは、この <span lang="en">Smalltalk</span> における附帯情報(プロパティー)に由来するもので、附帯情報の仕組みの有無に関わらずインスタンス変数やクラス変数をプロパティーと表現するのは間違いである。
</p><p>附帯情報は <span lang="en">Self</span> や <span lang="en">JavaScript</span> においては当たり前の様に使用されている。しかし、<span lang="en">Smalltalk</span> においては附帯情報を多用する事はデバックを著しく困難にするため不適切な作法とされており、HTMLの属性の様に本当に使用頻度の低い変数だけを附帯情報で扱い、常用する変数に附帯情報を乱用すべきではないと言われている。例えば変数は統合開発環境の機能で使用箇所を把握できるが附帯情報では使用箇所をアクセッサーに限定しない限り追跡不可能になる。また、附帯情報では変数の変化に反応するブレークポイントを仕掛けることも難しい。<sup class="reference" id="cite_ref-36"><a href="#cite_note-36">[31]</a></sup>
</p>
<h4><span id=".E5.8D.98.E7.B4.94.E3.81.AA.E4.BE.8B.E5.A4.96.E5.87.A6.E7.90.86"></span><span class="mw-headline" id="単純な例外処理">単純な例外処理</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=69" title="節を編集: 単純な例外処理">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> 以外の言語において、配列の範囲外にある配列要素の操作や、値の代入されていない連想配列の操作は、次の例のように操作の前に一旦判定を行なって例外処理するか、例外機構を利用する方法が一般的である。
&lt;syntaxhighlight lang="smalltalk"&gt;
| key |
key := #phoneNumber.
( map contain: key ) ifTrue: [ ^ map at: key ] ifFalse: [ ^ nil ].
&lt;/syntaxhighlight&gt;
</p><p>一方 <span lang="en">Smalltalk</span> では、配列の範囲外操作の様に単純で頻発するような処理では、次のように予めメッセージに例外処理をブロックとして渡してしまう方法が一般的である。
&lt;syntaxhighlight lang="smalltalk"&gt;
"#phoneNumber に対応する値が無ければ常に nil を返す。map 自身に #phoneNumber が追加される事はない。"
^ map at:#phoneNumber ifAbsent: [ ^ nil ].
&lt;/syntaxhighlight&gt;
予め例外処理をメッセージに含めることで、単純な例外処理をより簡潔なものとしている。
</p><p>この方法は、<span lang="en">Smalltalk</span> 独自の復帰文と組み合わせる事でより柔軟な制御をする事ができる。
</p><p>次の処理は、連想配列に値が見つかればそれを表示し、値が無ければ何もしないという処理であるが、処理の中断の判定と連想配列からの値の取り出しを一度のメッセージ送信だけで実現している。
&lt;syntaxhighlight lang="smalltalk"&gt;
| value |
</p><p>value := map at:#phoneNumber ifAbsent: [ ^ self ].
Transcript
	show: value;
	cr.
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E3.83.96.E3.83.AD.E3.83.83.E3.82.AF.E3.81.AB.E3.82.88.E3.82.8B.E8.B3.87.E6.BA.90.E3.81.AE.E9.96.8B.E6.94.BE"></span><span class="mw-headline" id="ブロックによる資源の開放">ブロックによる資源の開放</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=70" title="節を編集: ブロックによる資源の開放">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span>では、ブロック内だけ資源を確保しブロックの終了後に資源を開放するというブロックによる資源の開放が行われる。ブロックによる資源の開放では、資源の確保と同時に資源の開放を強制できるため開放忘れや例外による開放漏れを防ぐことができる。<span lang="en">C#</span>の<code>using</code>に類似するが、<code>using</code>を書き忘れたまま<code>new</code>できない分さらに強力である。
&lt;syntaxhighlight lang="smalltalk"&gt;
"Pharo"
'example.txt' asFileReference writeStreamDo: "example.txtを開く"
[ :writeStream |
</p><p>	writeStream nextPutAll: 'text'.
</p><p>]. "example.txtを閉じる(例外発生時も閉じる)"
&lt;/syntaxhighlight&gt;
&lt;syntaxhighlight lang="smalltalk"&gt;
"GNU Smalltalk"
'example.txt' asFile withWriteStreamDo: "example.txtを開く"
[ :writeStream |
</p><p>	writeStream nextPutAll: 'text'.
</p><p>]. "example.txtを閉じる(例外発生時も閉じる)"
&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E8.A6.81.E7.B4.A0.E3.81.AE.E5.88.97.E6.8C.99"></span><span class="mw-headline" id="要素の列挙">要素の列挙</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=71" title="節を編集: 要素の列挙">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> は反復処理のための基本構文を備えているが、ある値の生成器（入出力等）やある集合要素から要素を取得するときに基本的な反復構文を使う事は稀である。<span lang="en">Smalltalk</span> では、値を列挙するために値の生成器や集合要素に送るべきメッセージが概ね決まっており、値を取り出す際は極力、列挙メッセージ（<a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">enumerating</span>）を使用する事が作法となっている。
</p><p>次に列挙メッセージの送信例を示す。
</p><p>配列に対する列挙メッセージの例：
&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<ol><li>( 4 3 2 1 0 ) do:</li></ol>
<p>[ :each |
	"配列の要素が1個ずつ each に代入され表示領域（Transcript）に表示される"
	Transcript
		show: each;
		cr.
].
&lt;/syntaxhighlight&gt;
</p><p>実行結果:
&lt;syntaxhighlight lang="smalltalk"&gt;
4
3
2
1
0
&lt;/syntaxhighlight&gt;
</p><p>数値に対する列挙メッセージの例：
&lt;syntaxhighlight lang="smalltalk"&gt;
( 0 to: 4 ) do:
[ :each |
	"配列の要素が1個ずつ each に代入され表示領域（Transcript）に表示される"
	Transcript
		show: each;
		cr.
].
&lt;/syntaxhighlight&gt;
</p><p>実行結果:
&lt;syntaxhighlight lang="smalltalk"&gt;
0
1
2
3
4
&lt;/syntaxhighlight&gt;
列挙メッセージで使えるセレクターは <code>#do:</code> の様に全ての要素にブロックを適用するだけの単純なセレクターだけでなく、現在の集合要素の要素を操作した上で新しい集合要素を作成する <code>#collect:</code> や、集合要素から条件に一致する要素だけを抜き出し、新しい集合要素を作り出す <code>#select:</code>、集合要素の中から特定の要素を見つけ出す <code>#detect:ifNone:</code> など様々なセレクターがある。処理系によっては <code>#groupBy:having:</code> などSQLに類似したセレクターに対応するメソッドを多数用意しているものもある。<span lang="en">Smalltalk</span> では集合要素や値の生成器自体にこれらのメッセージを受け取れるよう実装する事で、集合要素のデータ構造や、生成器の入力元などの構造に依存せず最適な反復処理を実現できるようになっている。これらの列挙機能は近年の言語において <code>foreach</code> や<code>yeild</code>、LINQ等言語機能として賄われつつあるが <span lang="en">Smalltalk</span> においては、単にライブラリーの慣習として実現されている所が特徴的である。
</p>
<h4><span id=".E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.81.AE.E5.A4.89.E6.8F.9B"></span><span class="mw-headline" id="オブジェクトの変換">オブジェクトの変換</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=72" title="節を編集: オブジェクトの変換">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Smalltalkでは一般的にオブジェクトに<code>#as〜</code>というセレクターを使ったメッセージが送られた場合、オブジェクトを別のクラスのオブジェクトに変換する。例えば次の様な変換がある。
</p><p>Stringの変換による具体例(変換結果は処理系依存)：
&lt;syntaxhighlight lang="smalltalk"&gt;
'abcd' asSymbol.　　　　　　"→Symbolクラスのオブジェクト"
'10' asInteger.　　　　　　 "→SignedIntegerクラスのオブジェクト"
'10:00' asTime.　　　　　　 "→Timeクラスのオブジェクト"
</p><p>"以下は処理系によっては存在しない"
'/home' asPath.　　　　　　 "→AbsolutePathクラスのオブジェクト"
'<a class="external free" href="http://example.com'" rel="nofollow">http://example.com'</a> asUrl. "→Urlクラスのオブジェクト"
&lt;/syntaxhighlight&gt;
</p><p>オブジェクトを別のオブジェクトに変換するメソッドやメンバー関数が用意されている事は、Smalltalkに限らず他の言語でも一般的であり珍しい事ではない。Smalltalkの慣習として特徴的なところは、既存のクラスにこのオブジェクトの変換をユーザーやライブラリーの作者が自由に組み込んでいる所である。例えばSmalltalkの処理系であるPharoでは、初期状態で基本的なクラスであるStringに54個もの<code>as〜</code>で始まるメソッドが定義されている。この大量の変換メソッドは、メソッド追加した際すぐに影響を判断できるためメソッド追加に対し寛容的なSmalltalk独特の空気を象徴している。しかし、既存のクラスにメソッドを追加すればライブラリーを併合した際、意図しない衝突を生むため多用は避けるべきであるとの意見も存在する。<sup class="reference" id="cite_ref-37"><a href="#cite_note-37">[32]</a></sup>
</p><p>オブジェクトの変換はただオブジェクトの内部表現の変換だけでなく情報の加工にも使われる。
</p><p>オブジェクト変換による具体例：&lt;syntaxhighlight lang="smalltalk"&gt;
</p>
<ol><li>( 2 1 2 3 1 3 ) asSortedCollection asSet. "-&gt; #( 1 2 3 )"</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p>
<h4><span id=".E3.82.BB.E3.83.AC.E3.82.AF.E3.82.BF.E3.83.BC.E3.81.A8.E3.82.AA.E3.83.96.E3.82.B8.E3.82.A7.E3.82.AF.E3.83.88.E3.82.92.E6.8C.87.E5.AE.9A.E3.81.97.E3.81.9F.E3.82.A4.E3.83.99.E3.83.B3.E3.83.88.E5.87.A6.E7.90.86"></span><span class="mw-headline" id="セレクターとオブジェクトを指定したイベント処理">セレクターとオブジェクトを指定したイベント処理</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=73" title="節を編集: セレクターとオブジェクトを指定したイベント処理">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>イベントハンドラーを定義する方法として、<span lang="en">Smalltalk</span>では次のようにセレクターと、レシーバーとなるオブジェクトを指定する方法が一般的である。
</p><p>&lt;syntaxhighlight lang="smalltalk"&gt;
| view controller |
view := Morph new.
controller := FileControlHandler withOwnerView: view.
</p><p>"#click:イベントが発生すると、controllerに対し#open:を使ったメッセージを送る。"
view
	handler
		on:	#click:
		send:	#open:
		to:	controller.
&lt;/syntaxhighlight&gt;
</p><p>同様にイベントハンドラーを指定する別の方法としては、ブロックを指定する方法が考えられる。しかし、イベントハンドラーにブロックを使う方法は、セレクターとオブジェクトを指定する方法のように<code>inspect</code>だけでブロックを抱えたオブジェクトがどんな処理を実行するか判断できないうえ、ほとんどの環境はブロックの直列化に対応しておらず直列化もできなくなってしまうため、<span lang="en">Smalltalk</span>の文化においては避けるべきとされる。<sup class="reference" id="cite_ref-38"><a href="#cite_note-38">[33]</a></sup>
</p><p>このセレクターとオブジェクトを指定したイベント処理の方法は、Objective-Cの文化にも引き継がれており<span lang="en">Cocoa</span>等のライブラリーにて頻繁に目にすることができる。
</p>
<h3><span id="MVC.E3.81.A8MVC.E3.81.8B.E3.82.89.E6.B4.BE.E7.94.9F.E3.81.97.E3.81.9F.E8.A8.AD.E8.A8.88.E6.96.B9.E5.BC.8F"></span><span class="mw-headline" id="MVCとMVCから派生した設計方式">MVCとMVCから派生した設計方式</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=74" title="節を編集: MVCとMVCから派生した設計方式">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="/wiki/Model_View_Controller" title="Model View Controller">Model View Controller</a>（MVC）は <span lang="en">Smalltalk</span> から生まれた、制御（コントローラー）と情報（モデル）、そして情報の表現方法（ビュー）の3つを分離しクラスオブジェクトの再利用性を高め、実行時に情報と表現の組み合わせを変更できるようにした設計方針である。<span lang="en">Smalltalk</span> の世界でMVCは更に表現を担当するクラスに既定の制御を取り込む仕組みを持たせることで <span lang="en">PluggableMVC</span> へと発展した。
</p>
<h4><span id=".E3.83.A2.E3.83.87.E3.83.AB.E6.94.AF.E6.8F.B4.E6.A9.9F.E6.A7.8B"></span><span class="mw-headline" id="モデル支援機構">モデル支援機構</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=75" title="節を編集: モデル支援機構">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">Smalltalk</span> はクラスライブラリーの基礎部分からMVCやMVCから派生した設計方式で使用されるモデルの構築を支援する仕組みを持っており、<span lang="en">Smalltalk</span> 以外の言語と比べモデルの構築が格段に楽になっている。次にモデルの動作を確認する最低限のコードを示す。
</p><p>モデルの登録:
&lt;syntaxhighlight lang="smalltalk"&gt;
"単純なモデルのクラスオブジェクトを登録"
Object
	subclass:		#ValueHolderModel
	instanceVariableNames:	'value'
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		'Models'.
</p><p>ValueHolderModel class methodsFor: 'accessing'
!
defaultValue
	^ 0.
!!
</p><p>ValueHolderModel methodsFor: 'accessing'
!
value
	value isNull: [ model := self class defaultValue. ].
	^ value.
!
value: aValue
	value := aValue.
	self changed: #value.
!!
&lt;/syntaxhighlight&gt;
</p><p>モデルの監視側登録
&lt;syntaxhighlight lang="smalltalk"&gt;
"モデルを監視する単純なクラスオブジェクトを登録"
Object
	subclass:		#ValueHolderObserver
	instanceVariableNames:	'model getSelector'
	classVariableNames:	<i></i>
	poolDictionaries:	<i></i>
	category:		'Models'.
</p><p>ValueHolderObserver class methodsFor: 'accessing'
!
defaultModel
	"model が nil の場合に使用する既定のモデルを返す"
	^ ValueHolderModel.
!!
</p><p>ValueHolderObserver methodsFor: 'accessing'
!
value
	model ifNil: [ ^ nil ].
	"modelから指定のセレクターで値を取り出す"
	^ model perform: getSelector.
!
getState: aGetSelector
	"モデルから値を取り出す際のセレクターはシンボルにより外部から指定する"
	getSelector := aGetSelector.
!
model
	"現在監視対象となっているモデルを返す"
	model isNull:
	[
		model := self class defaultModel new.
		model addDependent: self.
</p>
<pre>       ].
</pre>
<p>	^ model.
!
model: aModel
	"現在監視対象となっているモデルを監視対象から除去し、
	 aModelに指定されたオブジェクトを監視対象として追加する。"
	self model removeDependent: self.
	model := aModel.
	self model addDependent: self.
</p><p>	"また、通常は新しいモデルからValueHolderObserverにとっての初期値の読み取りを行う。
	 ここでは、初期値の読み取りの代わりにモデルが持つvalueオブジェクトの内容を表示Window(Transcript)に表示する。"
	Transcript
		show: self value asString;
		cr.
!!
</p><p>ValueHolderObserver methodsFor: 'updating'
!
update: anAspect
	"モデルが存在しないときは更新しない"
	model ifNil: [ ^ nil ].
</p><p>	"モデルが更新されると呼び出され、モデルが持つvalueオブジェクトの内容を表示Window(Transcript)に表示する。"
	getSelector = anAspect ifTrue:
	[
		Transcript
			show: self value asString;
			cr.
	].
!!
</p><p>ValueHolderObserver class methodsFor: 'instance creation'
!
on: aModel getState: aGetSelector
	^ self
		getState:	aGetSelector;
		model:		aModel.
!!
&lt;/syntaxhighlight&gt;
</p><p>動作の確認：
&lt;syntaxhighlight lang="smalltalk"&gt;
| model observer |
</p><p>model := ValueHolderModel new.
</p><p>"監視対象にmodelを指定してobserverを生成。
</p>
<pre>on:getState:内にてmodel valueが返す値、0が表示Window(Transcript)に表示される。"
</pre>
<p>observer := ValueHolderObserver
	on:		model
	getState:	#value.
</p><p>"modelの値を更新。observerの#update:が実行されmodel valueが返す値、100が表示Window(Transcript)に表示される。"
model value: 100.
&lt;/syntaxhighlight&gt;
モデルの支援機構は全て <code>Object</code> クラスオブジェクトに実装されており、全てのオブジェクトはモデルとして動作する。つまりクラスオブジェクトもモデルとして使用できるようになっている。
</p>
<h4><span id="Morphic.E6.96.B9.E5.BC.8F"></span><span class="mw-headline" id="Morphic方式">Morphic方式</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=76" title="節を編集: Morphic方式">編集</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span lang="en">PluggableMVC</span> は <span lang="en">Self</span> へと場を移し、表現と制御そして、表現対象となる情報を1個のオブジェクトで兼任する <span title="リンク先の項目はまだありません。新規の執筆や他言語版からの翻訳が望まれます。"><a class="new" href="/w/index.php?title=Morphic&amp;action=edit&amp;redlink=1" title="Morphic (存在しないページ)">Morphic</a><span class="noprint" style="font-size: 0.77em; font-weight: normal;">（<a class="new" href="/w/index.php?title=En:Morphic&amp;action=edit&amp;redlink=1" title="En:Morphic (存在しないページ)">英語版</a>）</span></span> として再設計された。<span lang="en">Self</span> によって発展した <span lang="en">Morphic</span> は <span lang="en">Smalltalk</span> に移植され<span lang="en">Squeak</span>系統の <span lang="en">Smalltalk</span> 環境で基本GUIシステムを構築している。<span lang="en">Self</span> の <span lang="en">Morphic</span> はウェブブラウザ―の<a href="/wiki/DOM" title="DOM">DOM</a>や <span lang="en">JavaScript</span> に大きな影響を与えている。
</p>
<h2><span id=".E8.84.9A.E6.B3.A8"></span><span class="mw-headline" id="脚注">脚注</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=77" title="節を編集: 脚注">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="noprint" style="float:right; font-size:90%;"><tbody><tr><td>[<a href="/wiki/%E3%83%98%E3%83%AB%E3%83%97:%E8%84%9A%E6%B3%A8/%E8%AA%AD%E8%80%85%E5%90%91%E3%81%91" title="ヘルプ:脚注/読者向け"><span title="この欄の操作法">脚注の使い方</span></a>]</td></tr></tbody></table>
<h3><span id=".E6.B3.A8.E9.87.88"></span><span class="mw-headline" id="注釈">注釈</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=78" title="節を編集: 注釈">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><b><a href="#cite_ref-1">^</a></b> <span class="reference-text">「型をもたない」との表現を好む人もいる。<a class="external free" href="http://web.cecs.pdx.edu/~harry/musings/SmalltalkOverview.html" rel="nofollow">http://web.cecs.pdx.edu/~harry/musings/SmalltalkOverview.html</a></span>
</li>
<li id="cite_note-4"><b><a href="#cite_ref-4">^</a></b> <span class="reference-text"><a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">Cincom</span></span>
</li>
<li id="cite_note-26"><b><a href="#cite_ref-26">^</a></b> <span class="reference-text">あるいは単に「セレクター」。</span>
</li>
<li id="cite_note-34"><b><a href="#cite_ref-34">^</a></b> <span class="reference-text">他の言語でいうメソッドの多重定義はできない。</span>
</li>
<li id="cite_note-35"><b><a href="#cite_ref-35">^</a></b> <span class="reference-text"><a href="/wiki/%E8%8B%B1%E8%AA%9E" title="英語">英</a>: <span lang="en">accessor</span></span>
</li>
</ol></div></div>
<h3><span id=".E5.87.BA.E5.85.B8"></span><span class="mw-headline" id="出典">出典</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=79" title="節を編集: 出典">編集</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-tools-for-thought-2"><b><a href="#cite_ref-tools-for-thought_2-0">^</a></b> <span class="reference-text"><cite class="citation book" id="Reference-ハワード・ラインゴールド_著、栗田昭平_監訳、青木真美_訳-1988" style="font-style:normal">ハワード・ラインゴールド 著、栗田昭平 監訳、青木真美 訳『思考のための道具 異端の天才たちはコンピュータに何を求めたか？』<a class="new" href="/w/index.php?title=%E3%83%91%E3%83%BC%E3%82%BD%E3%83%8A%E3%83%AB%E3%83%A1%E3%83%87%E3%82%A3%E3%82%A2%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE&amp;action=edit&amp;redlink=1" title="パーソナルメディア株式会社 (存在しないページ)">パーソナルメディア株式会社</a>、1988年8月10日、346頁。<style data-mw-deduplicate="TemplateStyles:r2293413">/*
スタイルシート[[:モジュール:Citation/CS1/styles.css]] (rev 2293413) の処理でエラーが発生しました：• 29行目14文字目のプロパティ⧼code⧽background⧼/code⧽に、不正またはサポートされていない値が指定されています。
• 38行目14文字目のプロパティ⧼code⧽background⧼/code⧽に、不正またはサポートされていない値が指定されています。
• 45行目14文字目のプロパティ⧼code⧽background⧼/code⧽に、不正またはサポートされていない値が指定されています。
• 66行目14文字目のプロパティ⧼code⧽background⧼/code⧽に、不正またはサポートされていない値が指定されています。
*/
.mw-parser-output cite.citation{font-style:inherit}.mw-parser-output .citation q{quotes:"\"""\"""'""'"}.mw-parser-output .id-lock-free a,.mw-parser-output .citation .cs1-lock-free a{}.mw-parser-output .id-lock-limited a,.mw-parser-output .id-lock-registration a,.mw-parser-output .citation .cs1-lock-limited a,.mw-parser-output .citation .cs1-lock-registration a{}.mw-parser-output .id-lock-subscription a,.mw-parser-output .citation .cs1-lock-subscription a{}.mw-parser-output .cs1-subscription,.mw-parser-output .cs1-registration{color:#555}.mw-parser-output .cs1-subscription span,.mw-parser-output .cs1-registration span{border-bottom:1px dotted;cursor:help}.mw-parser-output .cs1-ws-icon a{}.mw-parser-output code.cs1-code{color:inherit;background:inherit;border:none;padding:inherit}.mw-parser-output .cs1-hidden-error{display:none;font-size:100%}.mw-parser-output .cs1-visible-error{font-size:100%}.mw-parser-output .cs1-maint{display:none;color:#33aa33;margin-left:0.3em}.mw-parser-output .cs1-format{font-size:95%}.mw-parser-output .cs1-kern-left,.mw-parser-output .cs1-kern-wl-left{padding-left:0.2em}.mw-parser-output .cs1-kern-right,.mw-parser-output .cs1-kern-wl-right{padding-right:0.2em}.mw-parser-output .citation .mw-selflink{font-weight:inherit}</style><a href="/wiki/ISBN" title="ISBN">ISBN</a> <a href="/wiki/%E7%89%B9%E5%88%A5:%E6%96%87%E7%8C%AE%E8%B3%87%E6%96%99/4-89362-035-5" title="特別:文献資料/4-89362-035-5">4-89362-035-5</a>。</cite></span>
</li>
<li id="cite_note-3"><b><a href="#cite_ref-3">^</a></b> <span class="reference-text"><a class="external free" href="https://www.infoq.com/jp/news/2010/07/objects-smalltalk-erlang" rel="nofollow">https://www.infoq.com/jp/news/2010/07/objects-smalltalk-erlang</a></span>
</li>
<li id="cite_note-5"><b><a href="#cite_ref-5">^</a></b> <span class="reference-text"><a class="external free" href="http://smalltalk.cincom.jp/main/about-us/smalltalks-past/" rel="nofollow">http://smalltalk.cincom.jp/main/about-us/smalltalks-past/</a></span>
</li>
<li id="cite_note-6"><b><a href="#cite_ref-6">^</a></b> <span class="reference-text"><a class="external free" href="http://www.smalltalk.org/smalltalk/history.html" rel="nofollow">http://www.smalltalk.org/smalltalk/history.html</a></span>
</li>
<li id="cite_note-7"><b><a href="#cite_ref-7">^</a></b> <span class="reference-text"><a class="external free" href="http://stephane.ducasse.free.fr/FreeBooks/BlueBook/Bluebook.pdf" rel="nofollow">http://stephane.ducasse.free.fr/FreeBooks/BlueBook/Bluebook.pdf</a></span>
</li>
<li id="cite_note-8"><b><a href="#cite_ref-8">^</a></b> <span class="reference-text"><a class="external free" href="http://worrydream.com/EarlyHistoryOfSmalltalk/" rel="nofollow">http://worrydream.com/EarlyHistoryOfSmalltalk/</a></span>
</li>
<li id="cite_note-9"><b><a href="#cite_ref-9">^</a></b> <span class="reference-text"><a class="external text" href="http://freudenbergs.de/bert/publications/Ingalls-2014-Smalltalk78.pdf" rel="nofollow">Reviving Smalltalk-78</a></span>
</li>
<li id="cite_note-10"><b><a href="#cite_ref-10">^</a></b> <span class="reference-text"><a class="external free" href="http://www.cincomsmalltalk.com/main/developer-community/trying-cincom-smalltalk/try-cincom-smalltalk/" rel="nofollow">http://www.cincomsmalltalk.com/main/developer-community/trying-cincom-smalltalk/try-cincom-smalltalk/</a></span>
</li>
<li id="cite_note-11"><b><a href="#cite_ref-11">^</a></b> <span class="reference-text"><a class="external free" href="http://www.cincomsmalltalk.com/main/developer-community/trying-cincom-smalltalk/try-cincom-smalltalk/" rel="nofollow">http://www.cincomsmalltalk.com/main/developer-community/trying-cincom-smalltalk/try-cincom-smalltalk/</a></span>
</li>
<li id="cite_note-12"><b><a href="#cite_ref-12">^</a></b> <span class="reference-text"><a class="external free" href="http://smalltalk.cincom.jp/tutorials/primers/Introduction/Namespace.ssp" rel="nofollow">http://smalltalk.cincom.jp/tutorials/primers/Introduction/Namespace.ssp</a></span>
</li>
<li id="cite_note-13"><b><a href="#cite_ref-13">^</a></b> <span class="reference-text"><a class="external free" href="http://smalltalk.cincom.jp/tutorials/vw7.7/tutorial2/vwparcels2.ssp" rel="nofollow">http://smalltalk.cincom.jp/tutorials/vw7.7/tutorial2/vwparcels2.ssp</a></span>
</li>
<li id="cite_note-14"><b><a href="#cite_ref-14">^</a></b> <span class="reference-text"><a class="external free" href="http://www.pharo-project.org/about" rel="nofollow">http://www.pharo-project.org/about</a></span>
</li>
<li id="cite_note-15"><b><a href="#cite_ref-15">^</a></b> <span class="reference-text"><a class="external free" href="http://strongtalk.org/" rel="nofollow">http://strongtalk.org/</a></span>
</li>
<li id="cite_note-16"><b><a href="#cite_ref-16">^</a></b> <span class="reference-text"><a class="external free" href="http://pleiad.cl/research/software/gradualtalk" rel="nofollow">http://pleiad.cl/research/software/gradualtalk</a></span>
</li>
<li id="cite_note-17"><b><a href="#cite_ref-17">^</a></b> <span class="reference-text"><a class="external free" href="http://amber-lang.net/" rel="nofollow">http://amber-lang.net/</a></span>
</li>
<li id="cite_note-18"><b><a href="#cite_ref-18">^</a></b> <span class="reference-text"><a class="external free" href="http://www.object-arts.com/downloads/docs/index.html" rel="nofollow">http://www.object-arts.com/downloads/docs/index.html</a></span>
</li>
<li id="cite_note-19"><b><a href="#cite_ref-19">^</a></b> <span class="reference-text"><a class="external free" href="http://www.object-arts.com" rel="nofollow">http://www.object-arts.com</a></span>
</li>
<li id="cite_note-20"><b><a href="#cite_ref-20">^</a></b> <span class="reference-text"><a class="external free" href="https://sites.google.com/site/jniport/documentation/jniport-for-visualworks" rel="nofollow">https://sites.google.com/site/jniport/documentation/jniport-for-visualworks</a></span>
</li>
<li id="cite_note-21"><b><a href="#cite_ref-21">^</a></b> <span class="reference-text"><a class="external free" href="http://missionsoft.com/" rel="nofollow">http://missionsoft.com/</a></span>
</li>
<li id="cite_note-22"><b><a href="#cite_ref-22">^</a></b> <span class="reference-text"><a class="external free" href="http://www.refactory.com/tools/sharp-smalltalk" rel="nofollow">http://www.refactory.com/tools/sharp-smalltalk</a></span>
</li>
<li id="cite_note-23"><b><a href="#cite_ref-23">^</a></b> <span class="reference-text"><cite class="citation web" style="font-style:normal">“<a class="external text" href="http://www.instantiations.com/docs/FAQ/wwhelp/wwhimpl/js/html/wwhelp.htm#href=va01001.html" rel="nofollow">Does IBM offer support for VisualAge Smalltalk?</a>”. <span title="">2018年10月16日</span>閲覧。</cite></span>
</li>
<li id="cite_note-24"><b><a href="#cite_ref-24">^</a></b> <span class="reference-text"><a class="external free" href="http://www.objectconnect.com/stmtvc_info.htm" rel="nofollow">http://www.objectconnect.com/stmtvc_info.htm</a></span>
</li>
<li id="cite_note-25"><b><a href="#cite_ref-25">^</a></b> <span class="reference-text"><a class="external free" href="http://worrydream.com/EarlyHistoryOfSmalltalk/" rel="nofollow">http://worrydream.com/EarlyHistoryOfSmalltalk/</a></span>
</li>
<li id="cite_note-27"><b><a href="#cite_ref-27">^</a></b> <span class="reference-text"><a class="external autonumber" href="https://www.gnu.org/software/smalltalk/manual-base/html_node/ProcessorScheduler_002dbasic.html#ProcessorScheduler_002dbasic" rel="nofollow">[1]</a></span>
</li>
<li id="cite_note-28"><b><a href="#cite_ref-28">^</a></b> <span class="reference-text"><cite class="citation web" style="font-style:normal">“<a class="external text" href="http://magaloma.seasidehosting.st/Kernel#Message" rel="nofollow">Pharo source documentation</a>” (英語). <i>magaloma.seasidehosting.st</i>. <span title="">2018年9月3日</span>閲覧。</cite></span>
</li>
<li id="cite_note-29"><b><a href="#cite_ref-29">^</a></b> <span class="reference-text"><a class="external free" href="http://web.cecs.pdx.edu/~harry/musings/SmalltalkOverview.html" rel="nofollow">http://web.cecs.pdx.edu/~harry/musings/SmalltalkOverview.html</a></span>
</li>
<li id="cite_note-30"><b><a href="#cite_ref-30">^</a></b> <span class="reference-text"><a class="external free" href="https://www.gnu.org/software/smalltalk/manual/gst.html#Performance" rel="nofollow">https://www.gnu.org/software/smalltalk/manual/gst.html#Performance</a></span>
</li>
<li id="cite_note-31"><b><a href="#cite_ref-31">^</a></b> <span class="reference-text">ImplementationLimits7x.pdf(VisualWorks付録)</span>
</li>
<li id="cite_note-32"><b><a href="#cite_ref-32">^</a></b> <span class="reference-text"><a class="external free" href="https://www.gnu.org/software/smalltalk/manual/html_node/Special-objects.html#Special-objects" rel="nofollow">https://www.gnu.org/software/smalltalk/manual/html_node/Special-objects.html#Special-objects</a></span>
</li>
<li id="cite_note-33"><b><a href="#cite_ref-33">^</a></b> <span class="reference-text"><a class="external free" href="https://www.gnu.org/software/smalltalk/manual-base/html_node/Object_002dbuilt-ins.html#Object_002dbuilt-ins" rel="nofollow">https://www.gnu.org/software/smalltalk/manual-base/html_node/Object_002dbuilt-ins.html#Object_002dbuilt-ins</a></span>
</li>
<li id="cite_note-36"><b><a href="#cite_ref-36">^</a></b> <span class="reference-text">ケント・ベックの <span lang="en">Smalltalk</span> ベストプラクティス・パターン―シンプル・デザインへの宝石集 ISBN 978-4894717541</span>
</li>
<li id="cite_note-37"><b><a href="#cite_ref-37">^</a></b> <span class="reference-text">ケント・ベックの <span lang="en">Smalltalk</span> ベストプラクティス・パターン―シンプル・デザインへの宝石集 ISBN 978-4894717541</span>
</li>
<li id="cite_note-38"><b><a href="#cite_ref-38">^</a></b> <span class="reference-text">ケント・ベックの <span lang="en">Smalltalk</span> ベストプラクティス・パターン―シンプル・デザインへの宝石集 ISBN 978-4894717541</span>
</li>
</ol></div></div>
<h2><span id=".E9.96.A2.E9.80.A3.E9.A0.85.E7.9B.AE"></span><span class="mw-headline" id="関連項目">関連項目</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=80" title="節を編集: 関連項目">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a href="/wiki/SUnit" title="SUnit">SUnit</a></li>
<li><a href="/wiki/%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8_(%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF)" title="メッセージ (コンピュータ)">メッセージ</a></li>
<li><a href="/wiki/%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E8%BB%A2%E9%80%81" title="メッセージ転送">メッセージ転送</a></li>
<li><a href="/wiki/%E5%88%A9%E7%94%A8%E8%80%85%E5%AE%9A%E7%BE%A9%E6%BC%94%E7%AE%97%E5%AD%90" title="利用者定義演算子">利用者定義演算子</a></li></ul>
<h2><span id=".E5.A4.96.E9.83.A8.E3.83.AA.E3.83.B3.E3.82.AF"></span><span class="mw-headline" id="外部リンク">外部リンク</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Smalltalk&amp;action=edit&amp;section=81" title="節を編集: 外部リンク">編集</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><cite class="citation book" style="font-style:normal">Goldberg, Adele; Robson, David (May 1983). <a class="external text" href="http://stephane.ducasse.free.fr/FreeBooks/BlueBook/Bluebook.pdf" rel="nofollow"><i>Smalltalk-80: The Language and its Implementation</i></a>. Addison-Wesley. <link href="mw-data:TemplateStyles:r2293413" rel="mw-deduplicated-inline-style"/><a href="/wiki/ISBN" title="ISBN">ISBN</a> <a href="/wiki/%E7%89%B9%E5%88%A5:%E6%96%87%E7%8C%AE%E8%B3%87%E6%96%99/0-201-11371-6" title="特別:文献資料/0-201-11371-6">0-201-11371-6</a><span style="display:none;">. <a class="external free" href="http://stephane.ducasse.free.fr/FreeBooks/BlueBook/Bluebook.pdf" rel="nofollow">http://stephane.ducasse.free.fr/FreeBooks/BlueBook/Bluebook.pdf</a></span></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Smalltalk-80%3A+The+Language+and+its+Implementation&amp;rft.aulast=Goldberg&amp;rft.aufirst=Adele&amp;rft.au=Goldberg%2C%26%2332%3BAdele&amp;rft.au=Robson%2C%26%2332%3BDavid&amp;rft.date=May+1983&amp;rft.pub=Addison-Wesley&amp;rft.isbn=0-201-11371-6&amp;rft_id=http%3A%2F%2Fstephane.ducasse.free.fr%2FFreeBooks%2FBlueBook%2FBluebook.pdf&amp;rfr_id=info:sid/ja.wikipedia.org:Smalltalk"><span style="display: none;"> </span></span></li>
<li><cite class="citation book" style="font-style:normal"> <a class="external text" href="http://worrydream.com/EarlyHistoryOfSmalltalk/" rel="nofollow"><i>The Early History Of Smalltalk(原文)</i></a><span style="display:none;">. <a class="external free" href="http://worrydream.com/EarlyHistoryOfSmalltalk/" rel="nofollow">http://worrydream.com/EarlyHistoryOfSmalltalk/</a></span></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=The+Early+History+Of+Smalltalk%28%E5%8E%9F%E6%96%87%29&amp;rft_id=http%3A%2F%2Fworrydream.com%2FEarlyHistoryOfSmalltalk%2F&amp;rfr_id=info:sid/ja.wikipedia.org:Smalltalk"><span style="display: none;"> </span></span></li>
<li><cite class="citation book" style="font-style:normal"> <a class="external text" href="http://gagne.homedns.org/~tgagne/contrib/EarlyHistoryST.html" rel="nofollow"><i>The Early History Of Smalltalk(整形版)</i></a><span style="display:none;">. <a class="external free" href="http://gagne.homedns.org/~tgagne/contrib/EarlyHistoryST.html" rel="nofollow">http://gagne.homedns.org/~tgagne/contrib/EarlyHistoryST.html</a></span></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=The+Early+History+Of+Smalltalk%28%E6%95%B4%E5%BD%A2%E7%89%88%29&amp;rft_id=http%3A%2F%2Fgagne.homedns.org%2F%7Etgagne%2Fcontrib%2FEarlyHistoryST.html&amp;rfr_id=info:sid/ja.wikipedia.org:Smalltalk"><span style="display: none;"> </span></span></li>
<li><cite class="citation book" style="font-style:normal"> <a class="external text" href="http://www.cs.virginia.edu/~evans/cs655/readings/smalltalk.html" rel="nofollow"><i>Design Principles Behind Smalltalk</i></a><span style="display:none;">. <a class="external free" href="http://www.cs.virginia.edu/~evans/cs655/readings/smalltalk.html" rel="nofollow">http://www.cs.virginia.edu/~evans/cs655/readings/smalltalk.html</a></span></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Design+Principles+Behind+Smalltalk&amp;rft_id=http%3A%2F%2Fwww.cs.virginia.edu%2F%7Eevans%2Fcs655%2Freadings%2Fsmalltalk.html&amp;rfr_id=info:sid/ja.wikipedia.org:Smalltalk"><span style="display: none;"> </span></span></li>
<li><a class="external text" href="http://freudenbergs.de/bert/publications/Ingalls-2014-Smalltalk78.pdf" rel="nofollow">Reviving Smalltalk-78</a></li></ul>
<div aria-labelledby="コンピュータ・プログラミング言語" class="navbox" style="border-collapse:collapse;padding:3px"><table class="nowraplinks hlist mw-collapsible autocollapse navbox-inner" style="background:transparent;color:inherit;min-width:100%;border-spacing:0px;border-collapse:separate"><tbody><tr><th class="navbox-title" colspan="2" scope="col"><div style="float:left;width:6em;text-align:left"><div class="noprint plainlinks navbar hlist" style="white-space:nowrap;font-size:60%;font-weight:normal;background-color:transparent;padding:0;color:#000;;border:none;"><ul style="display:inline"><li><span style="font-size:125%;;;border:none;" title="このテンプレートを表示します">表</span></li><li><a class="new" href="/w/index.php?title=%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%83%BB%E3%83%88%E3%83%BC%E3%82%AF:%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E4%B8%80%E8%A6%A7&amp;action=edit&amp;redlink=1" title="テンプレート・トーク:プログラミング言語一覧 (存在しないページ)"><span style="font-size:125%;color:#002bb8;;;border:none;" title="このテンプレートのノートを表示します">話</span></a></li><li><a class="external text" href="http://localhost:8080/w/index.php?title=%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%3A%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E4%B8%80%E8%A6%A7&amp;action=edit" rel="nofollow"><span style="font-size:125%;color:#002bb8;;;border:none;" title="このテンプレートを編集します。保存の前にプレビューを忘れずに。">編</span></a></li><li><a class="external text" href="http://localhost:8080/w/index.php?title=%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%3A%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E4%B8%80%E8%A6%A7&amp;action=history" rel="nofollow"><span style="font-size:125%;color:#002bb8;;;border:none;" title="このテンプレートの過去の版を表示します">歴</span></a></li></ul></div></div><div id="コンピュータ・プログラミング言語" style="font-size:110%;margin:0 6em">コンピュータ・プログラミング言語</div></th></tr><tr><th class="navbox-group" scope="row" style="width:1%">低水準言語</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/%E6%A9%9F%E6%A2%B0%E8%AA%9E" title="機械語">機械語</a></li>
<li><a href="/wiki/%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E" title="アセンブリ言語">アセンブリ言語</a></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">高水準言語</th><td class="navbox-list navbox-even" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
</div><table class="nowraplinks navbox-subgroup" style="min-width:100%;border-spacing:0px;border-collapse:separate"><tbody><tr><th class="navbox-group" scope="row" style="width:1%">1950年代</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/FORTRAN" title="FORTRAN">FORTRAN</a></span></li>
<li><span lang="en"><a href="/wiki/LISP" title="LISP">LISP</a></span></li>
<li><span lang="en"><a href="/wiki/ALGOL" title="ALGOL">ALGOL</a></span></li>
<li><span lang="en"><a href="/wiki/RPG_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E8%A8%80%E8%AA%9E)" title="RPG (プログラム言語)">RPG</a></span></li>
<li><span lang="en"><a href="/wiki/COBOL" title="COBOL">COBOL</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">1960年代</th><td class="navbox-list navbox-even" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/CPL_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="CPL (プログラミング言語)"><span lang="en">CPL</span></a></li>
<li><span lang="en"><a href="/wiki/BASIC" title="BASIC">BASIC</a></span></li>
<li><span lang="en"><a href="/wiki/PL/I" title="PL/I">PL/I</a></span></li>
<li><span lang="en"><a href="/wiki/APL" title="APL">APL</a></span></li>
<li><span lang="en"><a href="/wiki/BCPL" title="BCPL">BCPL</a></span></li>
<li><span lang="en"><a href="/wiki/Simula" title="Simula">Simula</a></span></li>
<li><span lang="en"><a href="/wiki/LOGO" title="LOGO">LOGO</a></span></li>
<li><span lang="en"><a href="/wiki/B%E8%A8%80%E8%AA%9E" title="B言語">B</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">1970年代</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/Forth" title="Forth">Forth</a></span></li>
<li><span lang="fr"><a href="/wiki/Pascal" title="Pascal">Pascal</a></span></li>
<li><a href="/wiki/C%E8%A8%80%E8%AA%9E" title="C言語"><span lang="en">C</span></a></li>
<li><span lang="fr"><a href="/wiki/Prolog" title="Prolog">Prolog</a></span></li>
<li><span lang="en"><a class="mw-selflink selflink">Smalltalk</a></span></li>
<li><span lang="en"><a href="/wiki/Scheme" title="Scheme">Scheme</a></span></li>
<li><a href="/wiki/ML_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="ML (プログラミング言語)"><span lang="en">ML</span></a></li>
<li><span lang="en"><a href="/wiki/AWK" title="AWK">AWK</a></span></li>
<li><span lang="en"><a href="/wiki/Ada" title="Ada">Ada</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">1980年代</th><td class="navbox-list navbox-even" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/C%2B%2B" title="C++">C++</a></span></li>
<li><span lang="en"><a href="/wiki/Objective-C" title="Objective-C">Objective-C</a></span></li>
<li><span lang="en"><a href="/wiki/Common_Lisp" title="Common Lisp">Common Lisp</a></span></li>
<li><span lang="fr"><a href="/wiki/Eiffel" title="Eiffel">Eiffel</a></span></li>
<li><span lang="en"><a href="/wiki/Erlang" title="Erlang">Erlang</a></span></li>
<li><span lang="en"><a href="/wiki/Perl" title="Perl">Perl</a></span></li>
<li><span lang="en"><a href="/wiki/Mathematica" title="Mathematica">Mathematica</a></span></li>
<li><span lang="en"><a href="/wiki/J_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="J (プログラミング言語)">J</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">1990年代</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/Python" title="Python">Python</a></span></li>
<li><span lang="en"><a href="/wiki/Tcl/Tk" title="Tcl/Tk">Tcl</a></span></li>
<li><span lang="en"><a href="/wiki/Haskell" title="Haskell">Haskell</a></span></li>
<li><span lang="en"><a href="/wiki/Visual_Basic" title="Visual Basic">Visual Basic</a></span></li>
<li><span lang="en"><a href="/wiki/Ruby" title="Ruby">Ruby</a></span></li>
<li><span lang="pt"><a href="/wiki/Lua" title="Lua">Lua</a></span></li>
<li><span lang="en"><a href="/wiki/Delphi" title="Delphi">Delphi</a></span></li>
<li><span lang="en"><a href="/wiki/Java" title="Java">Java</a></span></li>
<li><span lang="en"><a href="/wiki/ECMAScript" title="ECMAScript">ECMAScript</a></span> (<span lang="en"><a href="/wiki/JavaScript" title="JavaScript">JavaScript</a></span>)</li>
<li><span lang="en"><a href="/wiki/PHP_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="PHP (プログラミング言語)">PHP</a></span></li>
<li><span lang="en"><a href="/wiki/OCaml" title="OCaml">OCaml</a></span></li>
<li><span lang="en"><a href="/wiki/SuperCollider" title="SuperCollider">SuperCollider</a></span></li>
<li><span lang="en"><a href="/wiki/R%E8%A8%80%E8%AA%9E" title="R言語">R</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">2000年代</th><td class="navbox-list navbox-even" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/C_Sharp" title="C Sharp">C#</a></span></li>
<li><span lang="en"><a class="mw-redirect" href="/wiki/VB.NET" title="VB.NET">VB.NET</a></span></li>
<li><span lang="en"><a href="/wiki/Scala" title="Scala">Scala</a></span></li>
<li><span lang="en"><a href="/wiki/Clojure" title="Clojure">Clojure</a></span></li>
<li><span lang="en"><a href="/wiki/D%E8%A8%80%E8%AA%9E" title="D言語">D</a></span></li>
<li><span lang="en"><a href="/wiki/F_Sharp" title="F Sharp">F#</a></span></li>
<li><span lang="en"><a href="/wiki/Go_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Go (プログラミング言語)">Go</a></span></li>
<li><span lang="en"><a href="/wiki/Nim" title="Nim">Nim</a></span></li></ul>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">2010年代</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><span lang="en"><a href="/wiki/Dart" title="Dart">Dart</a></span></li>
<li><span lang="en"><a href="/wiki/Ceylon" title="Ceylon">Ceylon</a></span></li>
<li><span lang="en"><a href="/wiki/Elixir_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Elixir (プログラミング言語)">Elixir</a></span></li>
<li><span lang="en"><a href="/wiki/Crystal_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Crystal (プログラミング言語)">Crystal</a></span></li>
<li><span lang="en"><a href="/wiki/Hack_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Hack (プログラミング言語)">Hack</a></span></li>
<li><span lang="en"><a href="/wiki/Swift_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Swift (プログラミング言語)">Swift</a></span></li>
<li><span lang="en"><a href="/wiki/Rust_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Rust (プログラミング言語)">Rust</a></span></li>
<li><span lang="en"><a href="/wiki/Raku" title="Raku">Raku</a></span></li>
<li><span lang="en"><a href="/wiki/Elm_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Elm (プログラミング言語)">Elm</a></span></li>
<li><span lang="en"><a href="/wiki/Julia_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Julia (プログラミング言語)">Julia</a></span></li>
<li><span lang="en"><a href="/wiki/Kotlin" title="Kotlin">Kotlin</a></span></li>
<li><span lang="en"><a href="/wiki/Zig_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)" title="Zig (プログラミング言語)">Zig</a></span></li></ul>
</div></td></tr></tbody></table><div>
</div></td></tr><tr><th class="navbox-group" scope="row" style="width:1%">架空の言語</th><td class="navbox-list navbox-odd" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/%E6%93%AC%E4%BC%BC%E8%A8%80%E8%AA%9E" title="擬似言語">擬似言語</a></li>
<li><a href="/wiki/CASL" title="CASL">CASL</a></li>
<li><a href="/wiki/CAP-X" title="CAP-X">CAP-X</a></li></ul>
</div></td></tr><tr><td class="navbox-abovebelow" colspan="2">
<ul><li><a href="/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E5%B9%B4%E8%A1%A8" title="プログラミング言語年表">年表</a></li>
<li><a href="/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%83%91%E3%83%A9%E3%83%80%E3%82%A4%E3%83%A0" title="プログラミングパラダイム">パラダイム</a></li>
<li><a href="/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E4%B8%80%E8%A6%A7" title="プログラミング言語一覧">一覧</a></li></ul></td></tr></tbody></table></div>
<p><strong class="error"><span class="scribunto-error" id="mw-scribunto-error-0"></span></strong>
</p>
<!-- 
NewPP limit report
Cached time: 20220331061901
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.399 seconds
Real time usage: 0.498 seconds
Preprocessor visited node count: 9625/1000000
Post‐expand include size: 103065/2097152 bytes
Template argument size: 16903/2097152 bytes
Highest expansion depth: 25/40
Expensive parser function count: 3/100
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 18434/5000000 bytes
Lua time usage: 0.090/7 seconds
Lua virtual size: 7966720/52428800 bytes
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  377.467      1 -total
 31.97%  120.687      5 テンプレート:Cite_book
 30.43%  114.864      2 テンプレート:Reflist
 20.96%   79.106      1 テンプレート:Infobox_プログラミング言語
 20.24%   76.410      1 テンプレート:Infobox
 18.81%   71.006      1 テンプレート:Cite_book/和書
 16.00%   60.386      2 テンプレート:ISBN2
 11.35%   42.848      4 テンプレート:Citation/core
  9.01%   34.003      2 テンプレート:Catalog_lookup_link
  8.28%   31.270      1 テンプレート:Otheruses
-->
<!-- Saved in parser cache with key my_wiki:pcache:idhash:1637-0!canonical and timestamp 20220331061900 and revision id 1204. Serialized with JSON.
 -->
</div>
<div class="printfooter">「<a dir="ltr" href="http://localhost:8080/w/index.php?title=Smalltalk&amp;oldid=1204">http://localhost:8080/w/index.php?title=Smalltalk&amp;oldid=1204</a>」から取得</div></div>
<div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a href="/wiki/%E7%89%B9%E5%88%A5:%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA" title="特別:カテゴリ">カテゴリ</a>: <ul><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E3%81%82%E3%82%8B%E3%83%9A%E3%83%BC%E3%82%B8" title="カテゴリ:スクリプトエラーがあるページ">スクリプトエラーがあるページ</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E5%A3%8A%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%8C%E3%81%82%E3%82%8B%E3%83%9A%E3%83%BC%E3%82%B8" title="カテゴリ:壊れたファイルへのリンクがあるページ">壊れたファイルへのリンクがあるページ</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E" title="カテゴリ:プログラミング言語">プログラミング言語</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E6%9B%B8%E3%81%8D%E3%81%8B%E3%81%91%E3%81%AE%E7%AF%80%E3%81%AE%E3%81%82%E3%82%8B%E9%A0%85%E7%9B%AE" title="カテゴリ:書きかけの節のある項目">書きかけの節のある項目</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E8%A8%80%E8%AA%9E" title="カテゴリ:オブジェクト指向言語">オブジェクト指向言語</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%83%95%E3%83%AA%E3%83%BC%E6%95%99%E8%82%B2%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2" title="カテゴリ:フリー教育ソフトウェア">フリー教育ソフトウェア</a></li><li><a href="/wiki/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%A2%E3%83%A9%E3%83%B3%E3%83%BB%E3%82%B1%E3%82%A4" title="カテゴリ:アラン・ケイ">アラン・ケイ</a></li></ul></div></div>
</div>
</div>
<div id="mw-navigation">
<h2>案内メニュー</h2>
<div id="mw-head">
<nav aria-labelledby="p-personal-label" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" id="p-personal" role="navigation">
<h3 class="vector-menu-heading" id="p-personal-label"> <span>個人用ツール</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="mw-list-item" id="pt-anonuserpage">ログインしていません</li><li class="mw-list-item" id="pt-anontalk"><a accesskey="n" href="/wiki/%E7%89%B9%E5%88%A5:%E3%83%88%E3%83%BC%E3%82%AF%E3%83%9A%E3%83%BC%E3%82%B8" title="このIPアドレスからなされた編集についての議論 [n]">トーク</a></li><li class="mw-list-item" id="pt-anoncontribs"><a accesskey="y" href="/wiki/%E7%89%B9%E5%88%A5:%E8%87%AA%E5%88%86%E3%81%AE%E6%8A%95%E7%A8%BF%E8%A8%98%E9%8C%B2" title="このIPアドレスからなされた編集の一覧 [y]">投稿記録</a></li><li class="mw-list-item" id="pt-createaccount"><a href="/w/index.php?title=%E7%89%B9%E5%88%A5:%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90&amp;returnto=Smalltalk&amp;returntoquery=curid%3D1637%26redirect%3Dno" title="アカウントを作成してログインすることをお勧めしますが、必須ではありません">アカウント作成</a></li><li class="mw-list-item" id="pt-login"><a accesskey="o" href="/w/index.php?title=%E7%89%B9%E5%88%A5:%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3&amp;returnto=Smalltalk&amp;returntoquery=curid%3D1637%26redirect%3Dno" title="ログインすることを推奨します。ただし、必須ではありません。 [o]">ログイン</a></li></ul>
</div>
</nav>
<div id="left-navigation">
<nav aria-labelledby="p-namespaces-label" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" id="p-namespaces" role="navigation">
<h3 class="vector-menu-heading" id="p-namespaces-label"> <span>名前空間</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="selected mw-list-item" id="ca-nstab-main"><a accesskey="c" href="/wiki/Smalltalk" title="本文を閲覧 [c]">ページ</a></li><li class="new mw-list-item" id="ca-talk"><a accesskey="t" href="/w/index.php?title=%E3%83%88%E3%83%BC%E3%82%AF:Smalltalk&amp;action=edit&amp;redlink=1" rel="discussion" title="本文ページについての議論 (存在しないページ) [t]">ノート</a></li></ul>
</div>
</nav>
<nav aria-labelledby="p-variants-label" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" id="p-variants" role="navigation">
<input aria-haspopup="true" aria-labelledby="p-variants-label" class="vector-menu-checkbox" data-event-name="ui.dropdown-p-variants" id="p-variants-checkbox" role="button" type="checkbox"/>
<h3 class="vector-menu-heading" id="p-variants-label"> <span>変種</span>
<span class="vector-menu-checkbox-expanded">拡張</span>
<span class="vector-menu-checkbox-collapsed">折り畳む</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"></ul>
</div>
</nav>
</div>
<div id="right-navigation">
<nav aria-labelledby="p-views-label" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" id="p-views" role="navigation">
<h3 class="vector-menu-heading" id="p-views-label"> <span>表示</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="selected mw-list-item" id="ca-view"><a href="/wiki/Smalltalk">閲覧</a></li><li class="mw-list-item" id="ca-edit"><a accesskey="e" href="/w/index.php?title=Smalltalk&amp;action=edit" title="このページを編集 [e]">編集</a></li><li class="mw-list-item" id="ca-history"><a accesskey="h" href="/w/index.php?title=Smalltalk&amp;action=history" title="このページの過去の版 [h]">履歴表示</a></li></ul>
</div>
</nav>
<nav aria-labelledby="p-cactions-label" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" id="p-cactions" role="navigation" title="その他の操作">
<input aria-haspopup="true" aria-labelledby="p-cactions-label" class="vector-menu-checkbox" data-event-name="ui.dropdown-p-cactions" id="p-cactions-checkbox" role="button" type="checkbox"/>
<h3 class="vector-menu-heading" id="p-cactions-label"> <span>その他</span>
<span class="vector-menu-checkbox-expanded">拡張</span>
<span class="vector-menu-checkbox-collapsed">折り畳む</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"></ul>
</div>
</nav>
<div class="vector-search-box" id="p-search" role="search">
<div>
<h3>
<label for="searchInput">検索</label>
</h3>
<form action="/w/index.php" id="searchform">
<div data-search-loc="header-navigation" id="simpleSearch">
<input accesskey="f" autocapitalize="sentences" id="searchInput" name="search" placeholder="Wikipedia内を検索" title="Wikipedia内を検索 [f]" type="search"/>
<input name="title" type="hidden" value="特別:検索"/>
<input class="searchButton mw-fallbackSearchButton" id="mw-searchButton" name="fulltext" title="この文字列が含まれるページを探す" type="submit" value="検索"/>
<input class="searchButton" id="searchButton" name="go" title="厳密に一致する名前のページが存在すれば、そのページへ移動する" type="submit" value="表示"/>
</div>
</form>
</div>
</div>
</div>
</div>
<div id="mw-panel">
<div id="p-logo" role="banner">
<a class="mw-wiki-logo" href="/wiki/%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%9A%E3%83%BC%E3%82%B8" title="メインページに移動する"></a>
</div>
<nav aria-labelledby="p-navigation-label" class="mw-portlet mw-portlet-navigation vector-menu vector-menu-portal portal" id="p-navigation" role="navigation">
<h3 class="vector-menu-heading" id="p-navigation-label"> <span>案内</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="mw-list-item" id="n-mainpage-description"><a accesskey="z" href="/wiki/%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%9A%E3%83%BC%E3%82%B8" title="メインページに移動する [z]">メインページ</a></li><li class="mw-list-item" id="n-portal"><a href="/wiki/Wikipedia:%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E3%83%BB%E3%83%9D%E3%83%BC%E3%82%BF%E3%83%AB" title="このプロジェクトについて、できること、情報を入手する場所">コミュニティ・ポータル</a></li><li class="mw-list-item" id="n-currentevents"><a href="/wiki/Portal:%E6%9C%80%E8%BF%91%E3%81%AE%E5%87%BA%E6%9D%A5%E4%BA%8B" title="最近の出来事の背景を知る">最近の出来事</a></li><li class="mw-list-item" id="n-newpages"><a href="/wiki/%E7%89%B9%E5%88%A5:%E6%96%B0%E3%81%97%E3%81%84%E3%83%9A%E3%83%BC%E3%82%B8" title="最近新規に作成されたページの一覧">新しいページ</a></li><li class="mw-list-item" id="n-recentchanges"><a accesskey="r" href="/wiki/%E7%89%B9%E5%88%A5:%E6%9C%80%E8%BF%91%E3%81%AE%E6%9B%B4%E6%96%B0" title="このウィキにおける最近の更新の一覧 [r]">最近の更新</a></li><li class="mw-list-item" id="n-randompage"><a accesskey="x" href="/wiki/%E7%89%B9%E5%88%A5:%E3%81%8A%E3%81%BE%E3%81%8B%E3%81%9B%E8%A1%A8%E7%A4%BA" title="無作為に選択されたページを読み込む [x]">おまかせ表示</a></li><li class="mw-list-item" id="n-sandbox"><a href="/wiki/Wikipedia:%E3%82%B5%E3%83%B3%E3%83%89%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9" title="練習用のページ">練習用ページ</a></li><li class="mw-list-item" id="n-commonsupload"><a href="//commons.wikimedia.org/wiki/Special:UploadWizard?uselang=ja" rel="nofollow" title="画像やメディアファイルをウィキメディア・コモンズにアップロード">アップロード (ウィキメディア・コモンズ)</a></li></ul>
</div>
</nav>
<nav aria-labelledby="p-help-label" class="mw-portlet mw-portlet-help vector-menu vector-menu-portal portal" id="p-help" role="navigation">
<h3 class="vector-menu-heading" id="p-help-label"> <span>ヘルプ</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="mw-list-item" id="n-help"><a href="/wiki/%E3%83%98%E3%83%AB%E3%83%97:%E7%9B%AE%E6%AC%A1" title="情報を得る場所">ヘルプ</a></li><li class="mw-list-item" id="n-villagepump"><a href="/wiki/Wikipedia:%E4%BA%95%E6%88%B8%E7%AB%AF" title="プロジェクトについての意見交換">井戸端</a></li><li class="mw-list-item" id="n-notice"><a href="/wiki/Wikipedia:%E3%81%8A%E7%9F%A5%E3%82%89%E3%81%9B" title="プロジェクトについてのお知らせ">お知らせ</a></li><li class="mw-list-item" id="n-bugreportspage"><a href="/wiki/Wikipedia:%E3%83%90%E3%82%B0%E3%81%AE%E5%A0%B1%E5%91%8A" title="ウィキペディア・ソフトウェアのバグ報告">バグの報告</a></li><li class="mw-list-item" id="n-sitesupport"><a href="//donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_ja.wikipedia.org&amp;uselang=ja" rel="nofollow">sitesupport</a></li><li class="mw-list-item" id="n-contact"><a href="/wiki/Wikipedia:%E9%80%A3%E7%B5%A1%E5%85%88" title="ウィキペディアやウィキメディア財団に関する連絡先">ウィキペディアに関するお問い合わせ</a></li></ul>
</div>
</nav>
<nav aria-labelledby="p-tb-label" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" id="p-tb" role="navigation">
<h3 class="vector-menu-heading" id="p-tb-label"> <span>ツール</span>
</h3>
<div class="vector-menu-content">
<ul class="vector-menu-content-list"><li class="mw-list-item" id="t-whatlinkshere"><a accesskey="j" href="/wiki/%E7%89%B9%E5%88%A5:%E3%83%AA%E3%83%B3%E3%82%AF%E5%85%83/Smalltalk" title="ここにリンクしている全ウィキページの一覧 [j]">リンク元</a></li><li class="mw-list-item" id="t-recentchangeslinked"><a accesskey="k" href="/wiki/%E7%89%B9%E5%88%A5:%E9%96%A2%E9%80%A3%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E6%9B%B4%E6%96%B0%E7%8A%B6%E6%B3%81/Smalltalk" rel="nofollow" title="このページからリンクしているページの最近の更新 [k]">関連ページの更新状況</a></li><li class="mw-list-item" id="t-specialpages"><a accesskey="q" href="/wiki/%E7%89%B9%E5%88%A5:%E7%89%B9%E5%88%A5%E3%83%9A%E3%83%BC%E3%82%B8%E4%B8%80%E8%A6%A7" title="特別ページの一覧 [q]">特別ページ</a></li><li class="mw-list-item" id="t-print"><a accesskey="p" href="javascript:print();" rel="alternate" title="このページの印刷用ページ [p]">印刷用バージョン</a></li><li class="mw-list-item" id="t-permalink"><a href="/w/index.php?title=Smalltalk&amp;oldid=1204" title="このページのこの版への固定リンク">この版への固定リンク</a></li><li class="mw-list-item" id="t-info"><a href="/w/index.php?title=Smalltalk&amp;action=info" title="このページについての詳細情報">ページ情報</a></li></ul>
</div>
</nav>
</div>
</div>
<footer class="mw-footer" id="footer" role="contentinfo">
<ul id="footer-info">
<li id="footer-info-lastmod"> 最終更新 2021年8月10日 (火) 13:31 （日時は<a href="/wiki/%E7%89%B9%E5%88%A5:%E5%80%8B%E4%BA%BA%E8%A8%AD%E5%AE%9A#mw-prefsection-rendering" title="特別:個人設定">個人設定</a>で未設定ならば<a href="/wiki/%E5%8D%94%E5%AE%9A%E4%B8%96%E7%95%8C%E6%99%82" title="協定世界時">UTC</a>）。</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="/wiki/Wikipedia:%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%BB%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC" title="Wikipedia:プライバシー・ポリシー">プライバシー・ポリシー</a></li>
<li id="footer-places-about"><a href="/wiki/Wikipedia:%E3%82%A6%E3%82%A3%E3%82%AD%E3%83%9A%E3%83%87%E3%82%A3%E3%82%A2%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" title="Wikipedia:ウィキペディアについて">ウィキペディアについて</a></li>
<li id="footer-places-disclaimer"><a href="/wiki/Wikipedia:%E5%85%8D%E8%B2%AC%E4%BA%8B%E9%A0%85" title="Wikipedia:免責事項">免責事項</a></li>
</ul>
<ul class="noprint" id="footer-icons">
<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img alt="Powered by MediaWiki" height="31" loading="lazy" src="/w/resources/assets/poweredby_mediawiki_88x31.png" srcset="/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88"/></a></li>
</ul>
</footer>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.399","walltime":"0.498","ppvisitednodes":{"value":9625,"limit":1000000},"postexpandincludesize":{"value":103065,"limit":2097152},"templateargumentsize":{"value":16903,"limit":2097152},"expansiondepth":{"value":25,"limit":40},"expensivefunctioncount":{"value":3,"limit":100},"unstrip-depth":{"value":1,"limit":20},"unstrip-size":{"value":18434,"limit":5000000},"timingprofile":["100.00%  377.467      1 -total"," 31.97%  120.687      5 テンプレート:Cite_book"," 30.43%  114.864      2 テンプレート:Reflist"," 20.96%   79.106      1 テンプレート:Infobox_プログラミング言語"," 20.24%   76.410      1 テンプレート:Infobox"," 18.81%   71.006      1 テンプレート:Cite_book/和書"," 16.00%   60.386      2 テンプレート:ISBN2"," 11.35%   42.848      4 テンプレート:Citation/core","  9.01%   34.003      2 テンプレート:Catalog_lookup_link","  8.28%   31.270      1 テンプレート:Otheruses"]},"scribunto":{"limitreport-timeusage":{"value":"0.090","limit":"7"},"limitreport-virtmemusage":{"value":7966720,"limit":52428800},"limitreport-estmemusage":0},"cachereport":{"timestamp":"20220331061901","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":119});});</script>
</body></html>